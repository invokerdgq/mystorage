(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"356":function(e,t,n){"use strict";n.d(t,"a",function(){return delayQuerySelector}),n.d(t,"e",function(){return uuid}),n.d(t,"c",function(){return initTestEnv}),n.d(t,"d",function(){return isTest}),n.d(t,"b",function(){return handleTouchScroll});var r=n(4),o=n(363),a=r.a.getEnv();function delay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise(function(t){[r.a.ENV_TYPE.WEB,r.a.ENV_TYPE.SWAN].includes(a)?setTimeout(function(){t()},e):t()})}function delayQuerySelector(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=a===r.a.ENV_TYPE.WEB?e:e.$scope,c=Object(o.a)().in(i);return new Promise(function(e){delay(n).then(function(){c.select(t).boundingClientRect().exec(function(t){e(t)})})})}function uuid(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],o=0;if(t=t||n.length,e)for(o=0;o<e;o++)r[o]=n[0|Math.random()*t];else{var a=void 0;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",o=0;o<36;o++)r[o]||(a=0|16*Math.random(),r[o]=n[19===o?3&a|8:a])}return r.join("")}function initTestEnv(){0}function isTest(){return!1}var i=0;function handleTouchScroll(e){a===r.a.ENV_TYPE.WEB&&(e?(i=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-i+"px"):(document.body.style.top=null,document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=i))}},"363":function(e,t,n){"use strict";n.d(t,"a",function(){return createSelectorQuery});var r=n(3),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter(e,t,n){if(!t)return null;var r=e.id,o=e.dataset,a=e.rect,i=e.size,c=e.scrollOffset,s=e.properties,l=void 0===s?[]:s,u=e.computedStyle,f=void 0===u?[]:u,p=t.getBoundingClientRect(),h=p.left,d=p.right,y=p.top,m=p.bottom,b=p.width,_=p.height,g="html"===n,v={};if(r&&(v.id=t.id),o&&(v.dataset=Object.assign({},t.dataset)),a&&(g?(v.left=0,v.right=0,v.top=0,v.bottom=0):(v.left=h,v.right=d,v.top=y,v.bottom=m)),i&&(g?(v.width=t.clientWidth,v.height=t.clientHeight):(v.width=b,v.height=_)),c&&(v.scrollLeft=t.scrollLeft,v.scrollTop=t.scrollTop),l.length&&l.forEach(function(e){var n=t.getAttribute(e);n&&(v[e]=n)}),f.length){var T=window.getComputedStyle(t);f.forEach(function(e){var t=T.getPropertyValue(e);t&&(v[e]=t)})}return v}var a=function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}return o(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new i(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new i(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new i("html",this,!0)}},{"key":"exec","value":function exec(e){var t=this;!function queryBat(e,t){var n=[];e.forEach(function(e){var t=e.selector,o=e.single,a=e.fields,i=e.component,c=null!==i&&r.l.findDOMNode(i)||document,s=!1;if(c!==document)for(var l=c.parentNode.querySelectorAll(t),u=0,f=l.length;u<f;++u)if(c===l[u]){s=!0;break}if(o){var p=!0===s?c:c.querySelector(t);n.push(filter(a,p,t))}else{var h=c.querySelectorAll(t),d=[];!0===s&&d.push(c);for(var y=0,m=h.length;y<m;++y)d.push(h[y]);n.push(d.map(function(e){return filter(a,e)}))}}),t(n)}(this._queue,function(n){var r=t._queueCb;n.forEach(function(e,n){"function"==typeof r[n]&&r[n].call(t,e)}),"function"==typeof e&&e.call(t,n)})}},{"key":"_push","value":function _push(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":t,"selector":e,"single":n,"fields":r}),this._queueCb.push(o)}}]),Query}(),i=function(){function NodesRef(e,t,n){_classCallCheck(this,NodesRef),this._component=t._component,this._selector=e,this._selectorQuery=t,this._single=n}return o(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),o}},{"key":"scrollOffset","value":function scrollOffset(e){var t=this._selector,n=this._component,r=this._single,o=this._selectorQuery;return o._push(t,n,r,{"id":!0,"dataset":!0,"scrollOffset":!0},e),o}},{"key":"fields","value":function fields(e,t){var n=this._selector,r=this._component,o=this._single,a=this._selectorQuery,i=e.id,c=e.dataset,s=e.rect,l=e.size,u=e.scrollOffset,f=e.properties,p=void 0===f?[]:f,h=e.computedStyle,d=void 0===h?[]:h;return a._push(n,r,o,{"id":i,"dataset":c,"rect":s,"size":l,"scrollOffset":u,"properties":p,"computedStyle":d},t),a}}]),NodesRef}();function createSelectorQuery(){return new a}},"448":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(3),o=n(4),a=n(747),i=n(748),c=n(350),s=n.n(c),l=n(49),u=n.n(l),f=n(356),p=n(349),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var d=o.a.getEnv(),y=function(e){function AtTabs(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTabs);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTabs.__proto__||Object.getPrototypeOf(AtTabs)).apply(this,arguments));return e.updateState=function(t){if(e.props.scroll)switch(d){case o.a.ENV_TYPE.WEAPP:case o.a.ENV_TYPE.ALIPAY:case o.a.ENV_TYPE.SWAN:var n=Math.max(t-1,0);e.setState({"_scrollIntoView":"tab"+n});break;case o.a.ENV_TYPE.WEB:var r=Math.max(t-1,0),a=e.tabHeaderRef.childNodes[r];a&&e.setState({"_scrollTop":a.offsetTop,"_scrollLeft":a.offsetLeft});break;default:console.warn("AtTab 组件在该环境还未适配")}},e.state={"_scrollLeft":"","_scrollTop":"","_scrollIntoView":""},e._tabId=Object(f.d)()?"tabs-AOTU2018":Object(f.e)(),e._touchDot=0,e._timer=null,e._interval=0,e._isMoving=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTabs,p["a"]),h(AtTabs,[{"key":"handleClick","value":function handleClick(){var e;(e=this.props).onClick.apply(e,arguments)}},{"key":"handleTouchStart","value":function handleTouchStart(e){var t=this,n=this.props,r=n.swipeable,o=n.tabDirection;r&&"vertical"!==o&&(this._touchDot=e.touches[0].pageX,this._timer=setInterval(function(){t._interval++},100))}},{"key":"handleTouchMove","value":function handleTouchMove(e){var t=this.props,n=t.swipeable,r=t.tabDirection,o=t.current,a=t.tabList;if(n&&"vertical"!==r){var i=e.touches[0].pageX-this._touchDot,c=a.length;!this._isMoving&&this._interval<10&&this._touchDot>20&&(o+1<c&&i<=-100?(this._isMoving=!0,this.handleClick(o+1)):o-1>=0&&i>=100&&(this._isMoving=!0,this.handleClick(o-1)))}}},{"key":"handleTouchEnd","value":function handleTouchEnd(){var e=this.props,t=e.swipeable,n=e.tabDirection;t&&"vertical"!==n&&(clearInterval(this._timer),this._interval=0,this._isMoving=!1)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){e.scroll!==this.props.scroll&&this.getTabHeaderRef(),e.current!==this.props.current&&this.updateState(e.current)}},{"key":"getTabHeaderRef","value":function getTabHeaderRef(){d===o.a.ENV_TYPE.WEB&&(this.tabHeaderRef=document.getElementById(this._tabId))}},{"key":"componentDidMount","value":function componentDidMount(){this.getTabHeaderRef(),this.updateState(this.props.current)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.tabHeaderRef=null}},{"key":"render","value":function render(){var e,t=this,n=this.props,o=n.customStyle,c=n.className,s=n.height,l=n.tabDirection,f=n.animated,p=n.tabList,h=n.scroll,y=n.current,m=this.state,b=m._scrollLeft,_=m._scrollTop,g=m._scrollIntoView,v={"height":s},T={"height":"vertical"===l?100*p.length+"%":"1PX","width":"horizontal"===l?100*p.length+"%":"1PX"},C={},w="translate3d(0px, -"+100*y+"%, 0px)";"horizontal"===l&&(w="translate3d(-"+100*y+"%, 0px, 0px)"),Object.assign(C,{"transform":w,"-webkit-transform":w}),f||(C.transition="unset");var E=p.map(function(e,n){var o=u()({"at-tabs__item":!0,"at-tabs__item--active":y===n});return r.l.createElement(a.a,{"className":o,"id":"tab"+n,"key":e.title,"onClick":t.handleClick.bind(t,n)},e.title,r.l.createElement(a.a,{"className":"at-tabs__item-underline"}))}),k=u()((_defineProperty(e={"at-tabs":!0,"at-tabs--scroll":h},"at-tabs--"+l,!0),_defineProperty(e,"at-tabs--"+d,!0),e),c),P="horizontal"===l,O="vertical"===l;return r.l.createElement(a.a,{"className":k,"style":this.mergeStyle(v,o)},h?r.l.createElement(i.a,{"id":this._tabId,"className":"at-tabs__header","style":v,"scrollX":P,"scrollY":O,"scrollWithAnimation":!0,"scrollLeft":b,"scrollTop":_,"scrollIntoView":g},E):r.l.createElement(a.a,{"id":this._tabId,"className":"at-tabs__header"},E),r.l.createElement(a.a,{"className":"at-tabs__body","onTouchStart":this.handleTouchStart.bind(this),"onTouchEnd":this.handleTouchEnd.bind(this),"onTouchMove":this.handleTouchMove.bind(this),"style":this.mergeStyle(C,v)},r.l.createElement(a.a,{"className":"at-tabs__underline","style":T}),this.props.children))}}]),AtTabs}();y.defaultProps={"isTest":!1,"customStyle":"","className":"","tabDirection":"horizontal","height":"","current":0,"swipeable":!0,"scroll":!1,"animated":!0,"tabList":[],"onClick":function onClick(){}},y.propTypes={"customStyle":s.a.oneOfType([s.a.object,s.a.string]),"className":s.a.oneOfType([s.a.array,s.a.string]),"isTest":s.a.bool,"height":s.a.string,"tabDirection":s.a.oneOf(["horizontal","vertical"]),"current":s.a.number,"swipeable":s.a.bool,"scroll":s.a.bool,"animated":s.a.bool,"tabList":s.a.array,"onClick":s.a.func}},"449":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(3),o=n(747),a=n(350),i=n.n(a),c=n(49),s=n.n(c),l=n(349),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var f=function(e){function AtTabsPane(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTabsPane),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTabsPane.__proto__||Object.getPrototypeOf(AtTabsPane)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTabsPane,l["a"]),u(AtTabsPane,[{"key":"render","value":function render(){var e=this.props,t=e.customStyle,n=e.className,a=e.tabDirection,i=e.index,c=e.current;return r.l.createElement(o.a,{"className":s()({"at-tabs-pane":!0,"at-tabs-pane--vertical":"vertical"===a,"at-tabs-pane--active":i===c,"at-tabs-pane--inactive":i!==c},n),"style":t},this.props.children)}}]),AtTabsPane}();f.defaultProps={"customStyle":"","className":"","tabDirection":"horizontal","index":0,"current":0},f.propTypes={"customStyle":i.a.oneOfType([i.a.object,i.a.string]),"className":i.a.oneOfType([i.a.array,i.a.string]),"tabDirection":i.a.oneOf(["horizontal","vertical"]),"index":i.a.number,"current":i.a.number}},"580":function(e,t,n){},"582":function(e,t,n){},"820":function(e,t,n){"use strict";n.r(t);var r,o,a,i=n(3),c=n(4),s=n(747),l=n(51),u=n(351),f=n(748),p=n(462),h=n(13),d=(n(580),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var y,m=Object(l.b)(function(e){return{"store":e}})((a=o=function(e){function Series(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Series);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Series.__proto__||Object.getPrototypeOf(Series)).call(this,e));return t.handleClickCategoryNav=function(e){t.setState({"currentIndex":e})},t.handleClickItem=function(e){var t="/pages/item/list?cat_id="+(e.category_id||"");c.a.navigateTo({"url":t})},t.handleCustomClick=function(e){c.a.navigateTo({"url":"/pages/custom/custom-page?id="+e})},t.state={"currentIndex":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Series,c["a"].Component),d(Series,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){!0===e.isChanged&&this.setState({"currentIndex":0})}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.info,r=(t.isChanged,t.pluralType),o=t.imgType,a=this.state.currentIndex,c=void 0,l=void 0,d=void 0;return n?(n&&(c=n[a].children,d=n[a].id,l=n[a].img),i.l.createElement(s.a,{"className":"category-list"},i.l.createElement(f.a,{"className":"category-list__nav","scrollY":!0},i.l.createElement(s.a,{"className":"category-nav"},n.map(function(t,n){return i.l.createElement(s.a,{"className":Object(h.d)("category-nav__content",a==n?"category-nav__content-checked":null),"key":n,"onClick":e.handleClickCategoryNav.bind(e,n)},t.name)}))),i.l.createElement(f.a,{"className":"category-list__content","scrollY":!0},i.l.createElement(s.a,{"className":Object(h.d)(r?"category-content":"category-content-no")},l&&i.l.createElement(p.a,{"src":l,"mode":"aspectFill","onClick":this.handleCustomClick.bind(this,d),"className":"category__banner"}),c.map(function(t){return i.l.createElement(s.a,{"className":"category-content__img","key":t.category_id,"onClick":e.handleClickItem.bind(e,t)},t.img&&i.l.createElement(p.a,{"className":Object(h.d)(o?"cat-img":"cat-img-no"),"mode":"aspectFill","src":t.img}),i.l.createElement(s.a,{"className":"img-cat-name"},t.name))}),i.l.createElement(s.a,{"className":"category-content__img-empty"}," "),i.l.createElement(s.a,{"className":"category-content__img-empty"}," "),i.l.createElement(s.a,{"className":"category-content__img-empty"}," "))))):i.l.createElement(u.j,null)}}]),Series}(),o.options={"addGlobalClass":!0},o.defaultProps={"pluralType":!0,"imgType":!0},r=a))||r,b=n(15),_=(n(582),n(448)),g=n(449),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),T=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};t.default=Object(l.b)(function(e){return{"store":e}})(y=function(e){function Category(e){!function category_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Category);var t=function category_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Category.__proto__||Object.getPrototypeOf(Category)).call(this,e));return t.handleClickTab=function(e){var n=t.state.contentList[e],r=Object(h.q)(n,{"name":"name","img":"img","children":"children"});t.setState({"curTabIdx":e,"list":r}),e===t.state.curTabIdx?t.setState({"isChanged":!1}):t.setState({"isChanged":!0})},t.state={"curTabIdx":0,"tabList":[],"contentList":[],"list":null,"hasSeries":!1,"isChanged":!1},t}return function category_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Category,c["a"].Component),v(Category,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t,n,r,o,a,i,c,s,l;return regeneratorRuntime.wrap(function _callee$(u){for(;;)switch(u.prev=u.next){case 0:return e={"template_name":"yykweishop","version":"v1.0.1","page_name":"category"},u.next=3,b.a.category.getCategory(e);case 3:if(t=u.sent,n=t.list,(r=n[0]?n[0].params.data:[]).length){u.next=14;break}return u.next=9,b.a.category.get();case 9:o=u.sent,a=Object(h.q)(o,{"name":"category_name","img":"image_url","id":"id","category_id":"category_id","children":function children(e){var t=e.children;return Object(h.q)(t,{"name":"category_name","img":"image_url","category_id":"category_id"})}}),this.setState({"list":a,"hasSeries":!1}),u.next=20;break;case 14:i=[],c=[],n[0].params.hasSeries?r.map(function(e){i.push({"title":e.title,"status":e.name}),c.push(e.content)}):c.push(r),s=c[this.state.curTabIdx],l=Object(h.q)(s,{"name":"name","img":"img","children":"children"}),this.setState({"tabList":i,"contentList":c,"hasSeries":!0,"list":l});case 20:case"end":return u.stop()}},_callee,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.curTabIdx,n=e.tabList,r=e.list,o=e.hasSeries,a=e.isChanged;return i.l.createElement(s.a,{"className":"page-category-index"},0!==n.length?i.l.createElement(_.a,{"className":"category__tabs","current":t,"tabList":n,"onClick":this.handleClickTab},n.map(function(e,n){return i.l.createElement(g.a,{"current":t,"key":n,"index":n})})):null,i.l.createElement(s.a,{"className":o?"category-comps":"category-comps-not"},i.l.createElement(m,{"isChanged":a,"info":r})),i.l.createElement(u.u,{"current":1}))}},{"key":"componentDidShow","value":function componentDidShow(){T(Category.prototype.__proto__||Object.getPrototypeOf(Category.prototype),"componentDidShow",this)&&T(Category.prototype.__proto__||Object.getPrototypeOf(Category.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){T(Category.prototype.__proto__||Object.getPrototypeOf(Category.prototype),"componentDidHide",this)&&T(Category.prototype.__proto__||Object.getPrototypeOf(Category.prototype),"componentDidHide",this).call(this)}}]),Category}())||y}}]);