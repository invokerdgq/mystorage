(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{"368":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o,r,i=n(3),a=n(4),c=n(472),s=n(5),u=n(906),p=(n(377),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var l=(r=o=function(e){function NavGap(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavGap);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NavGap.__proto__||Object.getPrototypeOf(NavGap)).call(this,e));return t.handleIconClick=function(){console.log("kakakakk"),a.a.navigateBack()},t.props=e,t.state={"showIcon":!1,"navBar":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NavGap,a["a"].Component),p(NavGap,[{"key":"componentDidMount","value":function componentDidMount(){var e=a.a.getCurrentPages(),t=null;try{t=Object(c.b)(),this.setState({"navBar":t.statusBarHeight})}catch(e){console.log(e)}this.setState({"showIcon":!/(index|category\/index|recommend\/list|cart\/espier-index|member\/index)(.)*/.test(e[e.length-1].route)})}},{"key":"render","value":function render(){var e=this.props,t=e.title,n=(e.home,this.state.showIcon),o=Object(s.b)("top");return i.l.createElement(u.a,{"className":"nav-gap-container","style":{"background":this.props.bg?this.props.bg:"","color":this.props.cl?this.props.cl:"black"}},i.l.createElement(u.a,{"className":"iconfont icon-arrow-left","onClick":this.handleIconClick.bind(this),"style":{"top":o+"px","display":n?"block":"none"}}),i.l.createElement(u.a,{"style":{"top":o+"px"},"className":"gap-title"},t))}}]),NavGap}(),o.options={"addGlobalClass":!0},r)},"377":function(e,t,n){},"457":function(e,t,n){"use strict";var o=n(17),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}var a={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.WILL_MOUNT;return void 0!==a[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),r(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return this.$__autoLogin_state="pending",e=void 0,t.prev=2,t.next=5,o.a.autoLogin(this);case 5:e=t.sent,this.$__autoLogin_state=e?"success":"fail",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.$__autoLogin_state="fail";case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return e.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var e=void 0,t=8,n=this;return new Promise(function(o){!function next(){e&&clearTimeout(e),e=setTimeout(function(){var r=n.$__autoLogin_state;"success"===r||"fail"===r?(clearTimeout(e),e=null,o("success"===r)):t>0?(t--,next()):o(!1)},70)}()})}}]),WithLogin}()}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var o=e||{},r=o.pageSize,i=void 0===r?10:r,a=o.pageNo,c=void 0===a?0:a,s=o.pageTotal,u={"isLoading":!1,"total":void 0===s?0:s,"page_no":c,"page_size":i,"hasNext":!0};return t.state.page=u,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),s(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=c({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":t},e)}},{"key":"transFormPage","value":function transFormPage(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=c({},this.state.page||{},{"page_no":Math.ceil(e/this.state.pageSize),"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":n},t)}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,o,r,i,a;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(console.log("hahaha"),t=e.state.page,console.log(t.hasNext),t.hasNext&&!t.isLoading){s.next=5;break}return s.abrupt("return");case 5:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,o=t.page_size,r=n+1,s.next=11,e.fetch({"page_no":r,"page_size":o});case 11:i=s.sent,(!(a=i.total)||r>=Math.ceil(+a/o))&&(t.hasNext=!1),e.setState({"page":c({},t,{"total":a,"page_no":r,"isLoading":!1})});case 15:case"end":return s.stop()}},_callee,e)}))},t}var u=n(15),p=n(53),l=n.n(p),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":1},function(){})},t.handleScroll=l()(function(e){var n=e.detail,o=n.scrollTop;n.scrollHeight<600||(o>300&&!t.state.showBackToTop?(u.n.debug("[BackToTop] showBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&o<=300&&(u.n.debug("[BackToTop] hideBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!1})))},70),t.state=f({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"476":function(e,t,n){var o=n(477);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(366)(o,r);o.locals&&(e.exports=o.locals)},"477":function(e,t,n){(e.exports=n(365)(!1)).push([e.i,"/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\nbutton {\n  position: relative;\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 14px;\n  padding-right: 14px;\n  box-sizing: border-box;\n  font-size: 18px;\n  text-align: center;\n  text-decoration: none;\n  line-height: 2.55555556;\n  border-radius: 5px;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  color: #000000;\n  background-color: #F8F8F8;\n}\n\nbutton[plain] {\n  color: #353535;\n  border: 1px solid #353535;\n  background-color: transparent;\n}\n\nbutton[plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n\nbutton[type=primary] {\n  color: #FFFFFF;\n  background-color: #1AAD19;\n}\n\nbutton[type=primary][plain] {\n  color: #1aad19;\n  border: 1px solid #1aad19;\n  background-color: transparent;\n}\n\nbutton[type=primary][plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}",""])},"546":function(e,t,n){"use strict";n(363);var o=n(3),r=n(364),i=n(50),a=n.n(i),c=(n(476),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var u=function(e){function Button(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Button);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments));return e.state={"hover":!1,"touch":!1},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Button,o["l"].Component),s(Button,[{"key":"componentWillUnmount","value":function componentWillUnmount(){this.startTimer&&clearTimeout(this.startTimer),this.endTimer&&clearTimeout(this.endTimer)}},{"key":"render","value":function render(){var e,t=this,n=this.props,i=n.children,s=n.disabled,u=n.className,p=n.style,l=n.onClick,f=n.onTouchStart,h=n.onTouchEnd,d=n.hoverClass,b=void 0===d?"button-hover":d,m=n.hoverStartTime,g=void 0===m?20:m,_=n.hoverStayTime,y=void 0===_?70:_,v=n.size,w=n.plain,O=n.loading,P=void 0!==O&&O,T=n.type,k=void 0===T?"default":T,C=u||a()("weui-btn",(_defineProperty(e={},""+b,this.state.hover&&!s&&"none"!==b),_defineProperty(e,"weui-btn_plain-"+k,w),_defineProperty(e,"weui-btn_"+k,!w&&k),_defineProperty(e,"weui-btn_mini","mini"===v),_defineProperty(e,"weui-btn_loading",P),_defineProperty(e,"weui-btn_disabled",s),e));return o.l.createElement("button",c({},Object(r.a)(this.props,["hoverClass","onTouchStart","onTouchEnd"]),{"className":C,"style":p,"onClick":l,"disabled":s,"onTouchStart":function _onTouchStart(e){t.setState(function(){return{"touch":!0}}),b&&"none"!==b&&!s&&(t.startTimer=setTimeout(function(){t.state.touch&&t.setState(function(){return{"hover":!0}})},g)),f&&f(e)},"onTouchEnd":function _onTouchEnd(e){t.setState(function(){return{"touch":!1}}),b&&"none"!==b&&!s&&(t.endTimer=setTimeout(function(){t.state.touch||t.setState(function(){return{"hover":!1}})},y)),h&&h(e)}}),P&&o.l.createElement("i",{"class":"weui-loading"}),i)}}]),Button}();t.a=u},"582":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(5);document.addEventListener("copy",function(){Object(o.e)({"key":"taro_clipboard","data":window.getSelection().toString()}).catch(function(e){console.error(e)})});var r=function setClipboardData(e){var t=e.data,n=e.success,r=e.fail,i=e.complete;return new Promise(function(e,a){Object(o.e)({"key":"taro_clipboard","data":t}).then(function(){if("function"!=typeof document.execCommand)throw new Error("Unsupported Function: 'document.execCommand'.");var o=document.createElement("input");o.readOnly=!0,o.value=t,o.style.position="absolute",o.style.width="100px",o.style.left="-10000px",document.body.appendChild(o),o.select(),o.setSelectionRange(0,o.value.length),document.execCommand("copy"),document.body.removeChild(o);var r={"errMsg":"setClipboardData:ok","data":t};n&&n(r),i&&i(r),e(r)}).catch(function(e){var t={"errMsg":"setClipboardData:fail "+e.message};r&&r(t),i&&i(t),a(t)})})}},"760":function(e,t,n){},"940":function(e,t,n){"use strict";n.r(t);var o,r=n(3),i=n(582),a=n(358),c=n(357),s=n(5),u=n(4),p=n(906),l=n(905),f=n(546),h=n(457),d=n(9),b=n(368),m=(n(760),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};t.default=Object(h.b)()(o=function(e){function MemberCode(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MemberCode);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(MemberCode.__proto__||Object.getPrototypeOf(MemberCode)).call(this,e));return t.handleCopy=function(){Object(i.a)({"data":t.state.info.userCardCode,"success":function success(e){Object(a.e)({"title":"复制成功","icon":"success","duration":1500})},"fail":function fail(e){Object(a.e)({"title":"复制失败，稍后重试","icon":"none","duration":1500})}})},t.state={"info":null,"tmpPath":""},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MemberCode,u["a"].Component),g(MemberCode,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t,n,o,r,i,a=this;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,d.a.member.memberInfo();case 2:return e=s.sent,t=e.memberInfo,n=e.vipgrade,o=e.cardInfo,r={"code_type":o&&o.code_type||{},"content":t.user_card_code,"appid":Object(c.e)().appid},s.next=9,d.a.member.memberCode(r);case 9:i=s.sent,this.setState({"info":m({},i,{"userCardCode":t.user_card_code,"vipType":n.is_vip&&n.vip_type})},function(){a.handleSaveImage()});case 11:case"end":return s.stop()}},_callee,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"onShareAppMessage","value":function onShareAppMessage(e){var t=Object(s.b)("userinfo"),n=Object(s.b)("userinfo").user_card_code;return console.log(this.state.tmpPath),{"title":t.username+"邀请你进入苏心淘","path":"/pages/member/index?uid="+n,"imageUrl":this.state.tmpPath}}},{"key":"handleSaveImage","value":function handleSaveImage(){var e=this,t=Object(c.f)(),n=(new Date).getTime();t.writeFile({"filePath":u.a.env.USER_DATA_PATH+"/pict"+n+".png","data":this.state.info.qrcode_url.slice(22),"encoding":"base64","success":function success(){console.log("hahahah"),e.setState({"tmpPath":u.a.env.USER_DATA_PATH+"/pict"+n+".png"},function(){})}})}},{"key":"handleSave","value":function handleSave(){var e=this;console.log("klllll"),Object(c.m)({"filePath":this.state.tmpPath,"success":function success(){Object(a.e)({"title":"保存成功","icon":"success","duration":1500})},"fail":function fail(){Object(a.e)({"title":"保存失败","icon":"none","duration":1500})},"complete":function complete(){e.setState({"showCanvas":!e.state.showCanvas})}})}},{"key":"render","value":function render(){var e=Object(s.b)("userinfo"),t=e.username,n=e.avatar,o=this.state.info;return r.l.createElement(p.a,null,r.l.createElement(b.a,{"title":"分享二维码"}),r.l.createElement(p.a,{"className":"member-code-wrap"},r.l.createElement(p.a,{"className":"member-code"},r.l.createElement(p.a,{"className":"avatar"},r.l.createElement(l.a,{"className":"avatar-img","src":n,"mode":"aspectFill"}),o.vipType&&("vip"===o.vipType||"svip"===o.vipType)&&r.l.createElement(l.a,{"className":"icon-vip","src":"../images/svip.png"})),r.l.createElement(p.a,{"className":"nickname"},t),r.l.createElement(l.a,{"className":"member-code-qr","mode":"aspectFit","src":o.qrcode_url}),r.l.createElement(p.a,null,o.userCardCode),r.l.createElement(p.a,{"className":"muted"},"使用时，出示此码")),r.l.createElement(p.a,{"className":"feature"},r.l.createElement(f.a,{"onClick":this.handleSave,"className":"code-save"},r.l.createElement(l.a,{"src":"../../assets/imgs/friend.jpg"})),r.l.createElement(f.a,{"openType":"share","className":"code-share"},r.l.createElement(l.a,{"src":"../../assets/imgs/share.png"})),r.l.createElement(f.a,{"onClick":this.handleCopy.bind(this),"className":"code-copy"},r.l.createElement(l.a,{"src":"../../assets/imgs/copy.jpg"})))))}},{"key":"componentDidShow","value":function componentDidShow(){_(MemberCode.prototype.__proto__||Object.getPrototypeOf(MemberCode.prototype),"componentDidShow",this)&&_(MemberCode.prototype.__proto__||Object.getPrototypeOf(MemberCode.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){_(MemberCode.prototype.__proto__||Object.getPrototypeOf(MemberCode.prototype),"componentDidHide",this)&&_(MemberCode.prototype.__proto__||Object.getPrototypeOf(MemberCode.prototype),"componentDidHide",this).call(this)}}]),MemberCode}())||o}}]);