(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"819":function(t,e,a){},"964":function(t,e,a){"use strict";a.r(e),a.d(e,"default",function(){return m});var n=a(3),i=a(359),r=a(4),o=a(905),c=a(549),l=a(1003),s=a(545),u=a(533),p=a(9),h=(a(819),function(){function defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,a){return e&&defineProperties(t.prototype,e),a&&defineProperties(t,a),t}}()),d=function get(t,e,a){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:get(i,e,a)}if("value"in n)return n.value;var r=n.get;return void 0!==r?r.call(a):void 0};function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function step(n,i){try{var r=e[n](i),o=r.value}catch(t){return void a(t)}if(!r.done)return Promise.resolve(o).then(function(t){step("next",t)},function(t){step("throw",t)});t(o)}("next")})}}var m=function(t){function DistributionWithdraw(t){var e=this;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DistributionWithdraw);var a=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(DistributionWithdraw.__proto__||Object.getPrototypeOf(DistributionWithdraw)).call(this,t));return a.handleWithdrawAll=function(){var t=a.state.cashWithdrawalRebate;t&&a.setState({"amount":(t/100).toFixed(2)})},a.goWithdraw=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var t,n,o,c,l;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.amount,o=t.curIdx,c={"money":100*n,"pay_type":"0"===o?"wechat":"alipay"},e.next=4,Object(i.d)({"title":"确定提现？","content":""});case 4:if(l=e.sent,!l.confirm){e.next=10;break}return e.next=9,p.a.distribution.getCash(c);case 9:setTimeout(function(){r.a.navigateBack()},700);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}},_callee,e)})),a.handleWithdrawAll=function(){var t=a.state.cashWithdrawalRebate;t&&a.setState({"amount":(t/100).toFixed(2)})},a.handleChange=function(t){a.setState({"amount":t})},a.handlePick=function(t){var e=t.detail.value;a.setState({"curIdx":e})},a.state={"limit_rebate":0,"cashWithdrawalRebate":0,"submitLoading":!1,"amount":null,"curIdx":"0","payList":["微信(金额 ≦ 800)","支付宝"],"alipay_account":"","accountInfo":{}},a}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(DistributionWithdraw,r["a"].Component),h(DistributionWithdraw,[{"key":"componentDidShow","value":function componentDidShow(){this.fetch()}},{"key":"fetch","value":function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var t,e,a,n;return regeneratorRuntime.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,p.a.distribution.statistics();case 2:return t=i.sent,(e=t.cashWithdrawalRebate)&&this.setState({"cashWithdrawalRebate":e}),i.next=7,p.a.distribution.info();case 7:a=i.sent,n=a.alipay_account,a.config,n&&this.setState({"alipay_account":n});case 11:case"end":return i.stop()}},_callee2,this)}));return function fetch(){return t.apply(this,arguments)}}()},{"key":"render","value":function render(){var t=this.state,e=t.cashWithdrawalRebate,a=t.limit_rebate,i=t.amount,r=t.curIdx,p=t.payList,h=t.alipay_account;return n.l.createElement(o.a,{"className":"page-distribution-withdraw"},n.l.createElement(o.a,{"className":"section withdraw"},n.l.createElement(o.a,{"className":"withdraw-title"},"可提现金额(元)：￥",e/100),n.l.createElement(o.a,{"className":"withdraw-body"},n.l.createElement(u.a,{"className":"withdraw-body-input","onChange":this.handleChange.bind(this),"type":"number","placeholder":"请输入提现金额","value":i}),n.l.createElement(o.a,{"className":"withdraw-body-btn","onClick":this.handleWithdrawAll},"全部提现"))),n.l.createElement(o.a,{"className":"section list"},n.l.createElement(o.a,{"className":"list-item","style":"position: relative;"},n.l.createElement(c.a,{"onChange":this.handlePick.bind(this),"value":r,"range":p},n.l.createElement(o.a,{"className":"pay-type-picker"})),n.l.createElement(o.a,{"className":"label"},"提现方式"),n.l.createElement(o.a,{"className":"list-item-txt content-right"},p[r]),n.l.createElement(o.a,{"className":"item-icon-go icon-arrowRight"})),"1"===r&&n.l.createElement(l.a,{"url":"/marketing/pages/distribution/withdrawals-acount","className":"list-item"},n.l.createElement(o.a,{"className":"label"},"提现账户"),n.l.createElement(o.a,{"className":"list-item-txt content-right"},h||"去设置"),n.l.createElement(o.a,{"className":"item-icon-go icon-arrowRight"}))),n.l.createElement(o.a,{"className":"content-padded"},n.l.createElement(s.a,{"className":"g-button {{isClick ? '_off' : ''}}","type":"primary","onClick":this.goWithdraw,"disabled":!r&&i>800},"提现")),n.l.createElement(o.a,{"className":"g-ul"},n.l.createElement(o.a,{"className":"g-ul-li"},"每月只能提取2次，每次需大于等于1元"),n.l.createElement(o.a,{"className":"g-ul-li"},"金额低于",a,"元时不可提现"),n.l.createElement(o.a,{"className":"g-ul-li"},"预计三个工作日到账"),n.l.createElement(o.a,{"className":"g-ul-li"},"未实名认证的微信用户，将无法提现到收款账户")))}},{"key":"componentDidMount","value":function componentDidMount(){d(DistributionWithdraw.prototype.__proto__||Object.getPrototypeOf(DistributionWithdraw.prototype),"componentDidMount",this)&&d(DistributionWithdraw.prototype.__proto__||Object.getPrototypeOf(DistributionWithdraw.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){d(DistributionWithdraw.prototype.__proto__||Object.getPrototypeOf(DistributionWithdraw.prototype),"componentDidHide",this)&&d(DistributionWithdraw.prototype.__proto__||Object.getPrototypeOf(DistributionWithdraw.prototype),"componentDidHide",this).call(this)}}]),DistributionWithdraw}()}}]);