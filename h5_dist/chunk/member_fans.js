(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{"369":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a,r,o=n(3),s=n(4),i=n(473),c=n(5),l=n(905),u=(n(378),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var p=(r=a=function(e){function NavGap(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavGap);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NavGap.__proto__||Object.getPrototypeOf(NavGap)).call(this,e));return t.handleIconClick=function(){console.log("kakakakk"),s.a.navigateBack()},t.props=e,t.state={"showIcon":!1,"navBar":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NavGap,s["a"].Component),u(NavGap,[{"key":"componentDidMount","value":function componentDidMount(){var e=s.a.getCurrentPages(),t=null;try{t=Object(i.b)(),this.setState({"navBar":t.statusBarHeight})}catch(e){console.log(e)}this.setState({"showIcon":!/(index|category\/index|recommend\/list|cart\/espier-index|member\/index)(.)*/.test(e[e.length-1].route)})}},{"key":"render","value":function render(){var e=this.props,t=e.title,n=(e.home,this.state.showIcon),a=Object(c.b)("top");return o.l.createElement(l.a,{"className":"nav-gap-container","style":{"background":this.props.bg?this.props.bg:"","color":this.props.cl?this.props.cl:"black"}},o.l.createElement(l.a,{"className":"iconfont icon-arrow-left","onClick":this.handleIconClick.bind(this),"style":{"top":a+"px","display":n?"block":"none"}}),o.l.createElement(l.a,{"style":{"top":a+"px"},"className":"gap-title"},t))}}]),NavGap}(),a.options={"addGlobalClass":!0},r)},"375":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a,r,o=n(3),s=n(4),i=n(905),c=n(475),l=(n(391),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var u=(r=a=function(e){function NavSort(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavSort);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NavSort.__proto__||Object.getPrototypeOf(NavSort)).call(this,e));return t.state={"curIndex":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NavSort,s["a"].Component),l(NavSort,[{"key":"sortChange","value":function sortChange(e){var t=this;this.setState({"curIndex":e},function(){t.props.onsortChange(e)})}},{"key":"render","value":function render(){var e=this,t=this.props,n=(t.onsortChange,t.sortList),a=this.state.curIndex;return o.l.createElement(i.a,{"className":"nav-sort"},n.map(function(t,n){var r=void 0;switch(n){case 0:r=e.props.num.zs;break;case 1:r=e.props.num.zz;break;case 2:r=e.props.num.wz}return o.l.createElement(i.a,{"className":"nav-sort-item"},e.props.showNumber&&o.l.createElement(i.a,{"className":"count"},"查看"===r?r:r+"人"),o.l.createElement(c.a,{"onClick":e.sortChange.bind(e,n),"className":"nav-sort-item-title "+(a===n?"nav-sort-item-title-checked":"")},t))}))}}]),NavSort}(),a.options={"addGlobalClass":!0},a.defaultProps={"sortList":[],"showNumber":!0,"num":{"zs":0,"zz":null,"wz":null},"onsortChange":function onsortChange(e){}},r)},"378":function(e,t,n){},"391":function(e,t,n){},"471":function(e,t,n){var a=n(472);"string"==typeof a&&(a=[[e.i,a,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(367)(a,r);a.locals&&(e.exports=a.locals)},"472":function(e,t,n){(e.exports=n(366)(!1)).push([e.i,"/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n.taro-text {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.taro-text__selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}",""])},"475":function(e,t,n){"use strict";n(364);var a=n(3),r=n(365),o=n(50),s=n.n(o),i=(n(471),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(e){function Text(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Text),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Text,a["l"].Component),c(Text,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.selectable,o=void 0!==n&&n,c=s()("taro-text",{"taro-text__selectable":o},t);return a.l.createElement("span",i({},Object(r.a)(this.props,["selectable","className"]),{"className":c}),this.props.children)}}]),Text}();t.a=l},"769":function(e,t,n){},"942":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return g});var a=n(3),r=n(359),o=n(4),s=n(905),i=n(904),c=n(475),l=n(369),u=n(9),p=n(375),f=(n(769),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),m=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=function(e){function Fans(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Fans);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Fans.__proto__||Object.getPrototypeOf(Fans)).call(this,e));return t.handleSortChange=function(e){t.setState({"curIndex":e},function(){t.initStatus[e]||t.fetch()})},t.nextPage=function(){t.fetch()},t.state={"curIndex":0,"grade1Page":{"hasNext":!0,"isLoading":!1,"total":0,"page_no":0,"page_size":20},"grade2Page":{"hasNext":!0,"isLoading":!1,"total":0,"page_no":0,"page_size":20},"grade3Page":{"hasNext":!0,"isLoading":!1,"total":0,"page_no":0,"page_size":20},"fansList":{"grade1":[],"grade2":[],"grade3":[]},"numList1":0,"numList2":"查看","numList3":"查看"},t.sortList=["钻石会员","至尊会员","王者身份"],t.initStatus=[!1,!1,!1],t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Fans,o["a"].Component),h(Fans,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var o=t[a](r),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){step("next",e)},function(e){step("throw",e)});e(s)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t,n,a,o,s,i,c,l,p,h,m,g,d,b,y,v,_,x,w,N=this;return regeneratorRuntime.wrap(function _callee$(O){for(;;)switch(O.prev=O.next){case 0:if(0!==this.state.curIndex){O.next=17;break}if((e=this.state.grade1Page).hasNext){O.next=4;break}return O.abrupt("return");case 4:return e.isLoading=!0,e.page_no++,t=e.page_no,n=e.page_size,O.next=9,u.a.member.getFans({"page":t,"pageSize":n,"type":1});case 9:a=O.sent,o=a.list,s=a.total_count,Math.ceil(s/e.page_size)>e.page_no?e.hasNext=!0:e.hasNext=!1,0===[].concat(_toConsumableArray(this.state.fansList.grade1),_toConsumableArray(o)).length&&Object(r.e)({"title":"暂时没有"+this.sortList[0]+"粉丝","icon":"none","duration":1500}),this.setState({"fansList":{"grade1":[].concat(_toConsumableArray(this.state.fansList.grade1),_toConsumableArray(o)),"grade2":this.state.fansList.grade2,"grade3":this.state.fansList.grade3},"grade1Page":f({},this.state.grade1Page,{"isLoading":!1}),"numList1":s}),O.next=52;break;case 17:if(1!==this.state.curIndex){O.next=36;break}if((i=this.state.grade2Page).hasNext){O.next=21;break}return O.abrupt("return");case 21:return i.isLoading=!0,i.page_no++,c=i.page_no,l=i.page_size,O.next=26,u.a.member.getFans({"page":c,"pageSize":l,"type":2});case 26:p=O.sent,h=p.list,m=p.total_count,Math.ceil(m/i.page_size)>i.page_no?i.hasNext=!0:i.hasNext=!1,g=void 0,0===(g=0===this.state.fansList.grade2.length?h:[].concat(_toConsumableArray(this.state.fansList.grade2),_toConsumableArray(h))).length&&Object(r.e)({"title":"暂时没有"+this.sortList[1]+"粉丝","icon":"none","duration":1500}),this.setState({"fansList":{"grade2":g,"grade1":this.state.fansList.grade1,"grade3":this.state.fansList.grade3},"grade2Page":f({},this.state.grade2Page,{"isLoading":!1}),"numList2":m},function(){console.log(N.state.fansList)}),O.next=52;break;case 36:if((d=this.state.grade3Page).hasNext){O.next=39;break}return O.abrupt("return");case 39:return d.isLoading=!0,d.page_no++,b=d.page_no,y=d.page_size,O.next=44,u.a.member.getFans({"page":b,"pageSize":y,"type":3});case 44:v=O.sent,_=v.list,x=v.total_count,Math.ceil(x/d.page_size)>d.page_no?d.hasNext=!0:d.hasNext=!1,w=void 0,0===(w=0===this.state.fansList.grade3.length?_:[].concat(_toConsumableArray(this.state.fansList.grade3),_toConsumableArray(_))).length&&Object(r.e)({"title":"暂时没有"+this.sortList[2]+"粉丝","icon":"none","duration":1500}),this.setState({"fansList":{"grade3":w,"grade1":this.state.fansList.grade1,"grade2":this.state.fansList.grade2},"grade3Page":f({},this.state.grade3Page,{"isLoading":!1}),"numList3":x},function(){console.log(N.state.fansList)});case 52:case"end":return O.stop()}},_callee,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.state.fansList;return a.l.createElement(s.a,null,a.l.createElement(l.a,{"title":"我的粉丝"}),a.l.createElement(s.a,{"className":"content-container"},a.l.createElement(s.a,null,a.l.createElement(p.a,{"sortList":this.sortList,"onsortChange":this.handleSortChange,"showNumber":!0,"num":{"zs":this.state.numList1,"zz":this.state.numList2,"wz":this.state.numList3}})),a.l.createElement(ScrollView,{"className":"fans-scroll","scrollY":!0,"onScrollToLower":this.nextPage,"enableFlex":!0},a.l.createElement(s.a,{"className":"fans-scroll-content"},0===this.state.curIndex&&t.grade1.map(function(t,n){return a.l.createElement(s.a,{"className":"fans-item"},a.l.createElement(s.a,{"className":"fans-img"},a.l.createElement(i.a,{"src":t.headimgurl})),a.l.createElement(s.a,{"className":"fans-info"},a.l.createElement(c.a,{"className":"fans-info-name"},t.nickname),a.l.createElement(s.a,{"className":"fans-info-vip"},e.sortList[0]),a.l.createElement(s.a,{"className":"fans-info-city"},t.city)))}),1===this.state.curIndex&&t.grade2.map(function(t,n){return a.l.createElement(s.a,{"className":"fans-item"},a.l.createElement(s.a,{"className":"fans-img"},a.l.createElement(i.a,{"src":t.headimgurl})),a.l.createElement(s.a,{"className":"fans-info"},a.l.createElement(c.a,{"className":"fans-info-name"},t.nickname),a.l.createElement(s.a,{"className":"fans-info-vip"},e.sortList[1]),a.l.createElement(s.a,{"className":"fans-info-city"},t.city)))}),2===this.state.curIndex&&t.grade3.map(function(t,n){return a.l.createElement(s.a,{"className":"fans-item"},a.l.createElement(s.a,{"className":"fans-img"},a.l.createElement(i.a,{"src":t.headimgurl})),a.l.createElement(s.a,{"className":"fans-info"},a.l.createElement(c.a,{"className":"fans-info-name"},t.nickname),a.l.createElement(s.a,{"className":"fans-info-vip"},e.sortList[2]),a.l.createElement(s.a,{"className":"fans-info-city"},t.city)))})))))}},{"key":"componentDidShow","value":function componentDidShow(){m(Fans.prototype.__proto__||Object.getPrototypeOf(Fans.prototype),"componentDidShow",this)&&m(Fans.prototype.__proto__||Object.getPrototypeOf(Fans.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){m(Fans.prototype.__proto__||Object.getPrototypeOf(Fans.prototype),"componentDidHide",this)&&m(Fans.prototype.__proto__||Object.getPrototypeOf(Fans.prototype),"componentDidHide",this).call(this)}}]),Fans}()}}]);