(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"356":function(e,t,n){"use strict";n.d(t,"a",function(){return delayQuerySelector}),n.d(t,"e",function(){return uuid}),n.d(t,"c",function(){return initTestEnv}),n.d(t,"d",function(){return isTest}),n.d(t,"b",function(){return handleTouchScroll});var o=n(4),r=n(363),a=o.a.getEnv();function delay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise(function(t){[o.a.ENV_TYPE.WEB,o.a.ENV_TYPE.SWAN].includes(a)?setTimeout(function(){t()},e):t()})}function delayQuerySelector(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=a===o.a.ENV_TYPE.WEB?e:e.$scope,l=Object(r.a)().in(i);return new Promise(function(e){delay(n).then(function(){l.select(t).boundingClientRect().exec(function(t){e(t)})})})}function uuid(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[],r=0;if(t=t||n.length,e)for(r=0;r<e;r++)o[r]=n[0|Math.random()*t];else{var a=void 0;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(a=0|16*Math.random(),o[r]=n[19===r?3&a|8:a])}return o.join("")}function initTestEnv(){0}function isTest(){return!1}var i=0;function handleTouchScroll(e){a===o.a.ENV_TYPE.WEB&&(e?(i=document.documentElement.scrollTop,document.body.classList.add("at-frozen"),document.body.style.top=-i+"px"):(document.body.style.top=null,document.body.classList.remove("at-frozen"),document.documentElement.scrollTop=i))}},"363":function(e,t,n){"use strict";n.d(t,"a",function(){return createSelectorQuery});var o=n(3),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter(e,t,n){if(!t)return null;var o=e.id,r=e.dataset,a=e.rect,i=e.size,l=e.scrollOffset,c=e.properties,u=void 0===c?[]:c,s=e.computedStyle,p=void 0===s?[]:s,f=t.getBoundingClientRect(),d=f.left,h=f.right,y=f.top,v=f.bottom,m=f.width,b=f.height,g="html"===n,_={};if(o&&(_.id=t.id),r&&(_.dataset=Object.assign({},t.dataset)),a&&(g?(_.left=0,_.right=0,_.top=0,_.bottom=0):(_.left=d,_.right=h,_.top=y,_.bottom=v)),i&&(g?(_.width=t.clientWidth,_.height=t.clientHeight):(_.width=m,_.height=b)),l&&(_.scrollLeft=t.scrollLeft,_.scrollTop=t.scrollTop),u.length&&u.forEach(function(e){var n=t.getAttribute(e);n&&(_[e]=n)}),p.length){var C=window.getComputedStyle(t);p.forEach(function(e){var t=C.getPropertyValue(e);t&&(_[e]=t)})}return _}var a=function(){function Query(){_classCallCheck(this,Query),this._defaultWebviewId=null,this._webviewId=null,this._queue=[],this._queueCb=[],this._component=null}return r(Query,[{"key":"in","value":function _in(e){return this._component=e,this}},{"key":"select","value":function select(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new i(e,this,!0)}},{"key":"selectAll","value":function selectAll(e){return"string"==typeof e&&(e=e.replace(">>>",">")),new i(e,this,!1)}},{"key":"selectViewport","value":function selectViewport(){return new i("html",this,!0)}},{"key":"exec","value":function exec(e){var t=this;!function queryBat(e,t){var n=[];e.forEach(function(e){var t=e.selector,r=e.single,a=e.fields,i=e.component,l=null!==i&&o.l.findDOMNode(i)||document,c=!1;if(l!==document)for(var u=l.parentNode.querySelectorAll(t),s=0,p=u.length;s<p;++s)if(l===u[s]){c=!0;break}if(r){var f=!0===c?l:l.querySelector(t);n.push(filter(a,f,t))}else{var d=l.querySelectorAll(t),h=[];!0===c&&h.push(l);for(var y=0,v=d.length;y<v;++y)h.push(d[y]);n.push(h.map(function(e){return filter(a,e)}))}}),t(n)}(this._queue,function(n){var o=t._queueCb;n.forEach(function(e,n){"function"==typeof o[n]&&o[n].call(t,e)}),"function"==typeof e&&e.call(t,n)})}},{"key":"_push","value":function _push(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this._queue.push({"component":t,"selector":e,"single":n,"fields":o}),this._queueCb.push(r)}}]),Query}(),i=function(){function NodesRef(e,t,n){_classCallCheck(this,NodesRef),this._component=t._component,this._selector=e,this._selectorQuery=t,this._single=n}return r(NodesRef,[{"key":"boundingClientRect","value":function boundingClientRect(e){var t=this._selector,n=this._component,o=this._single,r=this._selectorQuery;return r._push(t,n,o,{"id":!0,"dataset":!0,"rect":!0,"size":!0},e),r}},{"key":"scrollOffset","value":function scrollOffset(e){var t=this._selector,n=this._component,o=this._single,r=this._selectorQuery;return r._push(t,n,o,{"id":!0,"dataset":!0,"scrollOffset":!0},e),r}},{"key":"fields","value":function fields(e,t){var n=this._selector,o=this._component,r=this._single,a=this._selectorQuery,i=e.id,l=e.dataset,c=e.rect,u=e.size,s=e.scrollOffset,p=e.properties,f=void 0===p?[]:p,d=e.computedStyle,h=void 0===d?[]:d;return a._push(n,o,r,{"id":i,"dataset":l,"rect":c,"size":u,"scrollOffset":s,"properties":f,"computedStyle":h},t),a}}]),NodesRef}();function createSelectorQuery(){return new a}},"513":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o=n(3),r=n(747),a=n(350),i=n.n(a),l=n(49),c=n.n(l),u=n(349),s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var p={"normal":"normal","small":"small"},f={"primary":"primary"},d=function(e){function AtTag(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTag);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtTag.__proto__||Object.getPrototypeOf(AtTag)).apply(this,arguments));return e.state={},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTag,u["a"]),s(AtTag,[{"key":"onClick","value":function onClick(){this.props.disabled||this.props.onClick&&this.props.onClick({"name":this.props.name,"active":this.props.active})}},{"key":"render","value":function render(){var e,t=this.props,n=t.size,a=void 0===n?"normal":n,i=t.type,l=void 0===i?"":i,u=t.circle,s=void 0!==u&&u,d=t.disabled,h=void 0!==d&&d,y=t.active,v=void 0!==y&&y,m=t.customStyle,b=(_defineProperty(e={},"at-tag--"+p[a],p[a]),_defineProperty(e,"at-tag--"+l,f[l]),_defineProperty(e,"at-tag--disabled",h),_defineProperty(e,"at-tag--active",v),_defineProperty(e,"at-tag--circle",s),e);return o.l.createElement(r.a,{"className":c()(["at-tag"],b,this.props.className),"style":m,"onClick":this.onClick.bind(this)},this.props.children)}}]),AtTag}();d.defaultProps={"size":"normal","type":"","name":"","circle":!1,"active":!1,"disabled":!1,"customStyle":{},"onClick":function onClick(){}},d.propTypes={"size":i.a.oneOf(["normal","small"]),"type":i.a.oneOf(["","primary"]),"name":i.a.string,"circle":i.a.bool,"active":i.a.bool,"disabled":i.a.bool,"customStyle":i.a.oneOfType([i.a.object,i.a.string]),"onClick":i.a.func}},"514":function(e,t,n){"use strict";var o=n(3),r=n(4),a=n(747),i=(n(354),n(355)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var u=function(e){function Textarea(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Textarea);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Textarea.__proto__||Object.getPrototypeOf(Textarea)).apply(this,arguments));return e.onChange=e.onChange.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Textarea,o["l"].Component),c(Textarea,[{"key":"onChange","value":function onChange(e){var t=this.props,n=t.onChange,onChange=void 0===n?"":n,o=t.onInput,r=void 0===o?"":o;return Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onChange?onChange&&onChange(e):r?r&&r(e):void 0}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.placeholder,a=void 0===r?"":r,c=e.disabled,u=e.maxlength,s=void 0===u?140:u,p=e.autoFocus,f=void 0!==p&&p;return o.l.createElement("textarea",l({},Object(i.a)(this.props,["className","placeholder","disabled","maxlength","onChange","onInput","onFocus","onBlur","autofocus"]),{"className":n,"placeholder":a,"disabled":c,"maxlength":s,"autofocus":f,"onChange":this.onChange,"onFocus":this.onFocus,"onBlur":this.onBlur}))}}]),Textarea}(),s=n(350),p=n.n(s),f=n(49),d=n.n(f),h=n(349),y=n(356),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function textarea_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=r.a.getEnv();Object(y.c)();var b=function(e){function AtTextarea(){var e,t,n;!function textarea_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtTextarea);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=n=textarea_possibleConstructorReturn(this,(e=AtTextarea.__proto__||Object.getPrototypeOf(AtTextarea)).call.apply(e,[this].concat(r))),n.handleInput=function(){var e;return(e=n.props).onChange.apply(e,arguments)},n.handleFocus=function(){var e;return(e=n.props).onFocus.apply(e,arguments)},n.handleBlur=function(){var e;return(e=n.props).onBlur.apply(e,arguments)},n.handleConfirm=function(){var e;return(e=n.props).onConfirm.apply(e,arguments)},n.handleLinechange=function(){var e;return(e=n.props).onLinechange.apply(e,arguments)},textarea_possibleConstructorReturn(n,t)}return function textarea_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtTextarea,h["a"]),v(AtTextarea,[{"key":"render","value":function render(){var e=this.props,t=e.customStyle,n=e.className,i=e.value,l=e.cursorSpacing,c=e.placeholder,s=e.placeholderStyle,p=e.placeholderClass,f=e.maxLength,h=e.count,y=e.disabled,v=e.autoFocus,b=e.focus,g=e.showConfirmBar,_=e.selectionStart,C=e.selectionEnd,T=e.fixed,O=e.textOverflowForbidden,w=e.height,x=parseInt(f),P=function getMaxLength(e,t){return t?e:e+500}(x,O),k=w?"height:"+r.a.pxTransform(w):"",E=d()("at-textarea","at-textarea--"+m,{"at-textarea--error":x<i.length},n),j=d()("placeholder",p);return o.l.createElement(a.a,{"className":E,"style":t},o.l.createElement(u,{"className":"at-textarea__textarea","style":k,"placeholderStyle":s,"placeholderClass":j,"cursorSpacing":l,"value":i,"confirmType":"完成","maxlength":P,"maxLength":P,"placeholder":c,"disabled":y,"autoFocus":v,"focus":b,"showConfirmBar":g,"selectionStart":_,"selectionEnd":C,"fixed":T,"onInput":this.handleInput,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onConfirm":this.handleConfirm,"onLinechange":this.handleLinechange,"showCount":!1}),h&&o.l.createElement(a.a,{"className":"at-textarea__counter"},i.length,"/",x))}}]),AtTextarea}();b.defaultProps={"customStyle":"","className":"","value":"","cursorSpacing":100,"maxLength":200,"placeholder":"","disabled":!1,"autoFocus":!1,"focus":!1,"showConfirmBar":!1,"selectionStart":-1,"selectionEnd":-1,"count":!0,"fixed":!1,"height":"","textOverflowForbidden":!0,"onLinechange":function onLinechange(){},"onChange":function onChange(){},"onFocus":function onFocus(){},"onBlur":function onBlur(){},"onConfirm":function onConfirm(){}},b.propTypes={"customStyle":p.a.oneOfType([p.a.object,p.a.string]),"className":p.a.oneOfType([p.a.array,p.a.string]),"value":p.a.string.isRequired,"cursorSpacing":p.a.number,"maxLength":p.a.oneOfType([p.a.string,p.a.number]),"placeholderClass":p.a.string,"placeholderStyle":p.a.string,"placeholder":p.a.string,"disabled":p.a.bool,"autoFocus":p.a.bool,"focus":p.a.bool,"showConfirmBar":p.a.bool,"selectionStart":p.a.number,"selectionEnd":p.a.number,"count":p.a.bool,"textOverflowForbidden":p.a.bool,"fixed":p.a.bool,"height":p.a.oneOfType([p.a.string,p.a.number]),"onLinechange":p.a.func,"onChange":p.a.func.isRequired,"onFocus":p.a.func,"onBlur":p.a.func,"onConfirm":p.a.func};t.a=b},"732":function(e,t,n){},"804":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return y});var o,r,a=n(3),i=n(4),l=n(747),c=n(351),u=n(16),s=n(15),p=n(513),f=n(514),d=(n(732),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),h=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};var y=(r=o=function(e){function TradeCancel(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeCancel);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeCancel.__proto__||Object.getPrototypeOf(TradeCancel)).call(this,e));return n.handleClickTag=function(e){var t=n.state.reason.indexOf(e.name);t>=0&&n.setState({"curReasonIdx":t})},n.handleTextChange=function(e){var t=e.target.value;n.setState({"otherReason":t})},n.handleSubmit=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var a=t[o](r),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,o,r,a,l,c;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.state,o=e.curReasonIdx,r=e.reason,a=e.otherReason,3!==o||a){t.next=3;break}return t.abrupt("return",u.a.toast("请输入其他理由"));case 3:return l=n.$router.params.order_id,c={"order_id":l,"cancel_reason":r[o],"other_reason":a},t.next=7,s.a.trade.cancel(c);case 7:t.sent&&(u.a.toast("操作成功"),i.a.navigateBack());case 9:case"end":return t.stop()}},_callee,t)})),n.state={"reason":["多买/错买","不想要了","买多了","其他"],"curReasonIdx":0,"textCount":255,"otherReason":""},n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeCancel,i["a"].Component),d(TradeCancel,[{"key":"render","value":function render(){var e=this,t=this.state,n=t.reason,o=t.curReasonIdx,r=t.otherReason,i=t.textCount;return a.l.createElement(l.a,{"className":"page-trade-cancel"},a.l.createElement(c.k,{"title":"取消订单","leftIconType":"chevron-left","fixed":"true"}),a.l.createElement(l.a,{"className":"sec"},a.l.createElement(c.p,{"title":"请选择取消理由"},n.map(function(t,n){return a.l.createElement(p.a,{"className":"cancel-reason","key":t,"active":n===o,"name":t,"onClick":e.handleClickTag},t)})),3===o&&a.l.createElement(c.p,{"title":"其他理由"},a.l.createElement(f.a,{"value":r,"onChange":this.handleTextChange,"maxLength":i,"placeholder":"请输入您的理由..."}))),a.l.createElement(l.a,{"className":"trade-cancel-footer"},a.l.createElement(l.a,{"onClick":this.handleSubmit,"className":"toolbar_btn"}," 确定取消")),a.l.createElement(c.t,null))}},{"key":"componentDidMount","value":function componentDidMount(){h(TradeCancel.prototype.__proto__||Object.getPrototypeOf(TradeCancel.prototype),"componentDidMount",this)&&h(TradeCancel.prototype.__proto__||Object.getPrototypeOf(TradeCancel.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){h(TradeCancel.prototype.__proto__||Object.getPrototypeOf(TradeCancel.prototype),"componentDidShow",this)&&h(TradeCancel.prototype.__proto__||Object.getPrototypeOf(TradeCancel.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){h(TradeCancel.prototype.__proto__||Object.getPrototypeOf(TradeCancel.prototype),"componentDidHide",this)&&h(TradeCancel.prototype.__proto__||Object.getPrototypeOf(TradeCancel.prototype),"componentDidHide",this).call(this)}}]),TradeCancel}(),o.config={"navigationBarTitleText":"取消订单"},r)}}]);