(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{"353":function(e,t,n){"use strict";var o=n(16),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}var a={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.WILL_MOUNT;return void 0!==a[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),r(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return this.$__autoLogin_state="pending",e=void 0,t.prev=2,t.next=5,o.a.autoLogin(this);case 5:e=t.sent,this.$__autoLogin_state=e?"success":"fail",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.$__autoLogin_state="fail";case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return e.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var e=void 0,t=8,n=this;return new Promise(function(o){!function next(){e&&clearTimeout(e),e=setTimeout(function(){var r=n.$__autoLogin_state;"success"===r||"fail"===r?(clearTimeout(e),e=null,o("success"===r)):t>0?(t--,next()):o(!1)},70)}()})}}]),WithLogin}()}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var o=e||{},r=o.pageSize,i=void 0===r?10:r,a=o.pageNo,s=void 0===a?0:a,c=o.pageTotal,l={"hasNext":!0,"isLoading":!1,"total":void 0===c?0:c,"page_no":s,"page_size":i};return t.state.page=l,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),c(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=s({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":t},e)}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,o,r,i,a;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if((t=e.state.page).hasNext&&!t.isLoading){c.next=3;break}return c.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,o=t.page_size,r=n+1,c.next=9,e.fetch({"page_no":r,"page_size":o});case 9:i=c.sent,(!(a=i.total)||r>=Math.ceil(+a/o))&&(t.hasNext=!1),e.setState({"page":s({},t,{"total":a,"page_no":r,"isLoading":!1})});case 13:case"end":return c.stop()}},_callee,e)}))},t}var l=n(13),u=n(50),p=n.n(u),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":1},function(){})},t.handleScroll=p()(function(e){var n=e.detail,o=n.scrollTop;n.scrollHeight<600||(o>300&&!t.state.showBackToTop?(l.n.debug("[BackToTop] showBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&o<=300&&(l.n.debug("[BackToTop] hideBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!1})))},70),t.state=h({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"465":function(e,t,n){"use strict";n(354);var o=n(3),r=n(355),i=n(49),a=n.n(i),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l={"switch":"switch","checkbox":"check"};var u=function(e){function Switch(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Switch);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Switch.__proto__||Object.getPrototypeOf(Switch)).apply(this,arguments));return e.state={"checked":e.props.checked},e.switchChange=e.switchChange.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Switch,o["l"].Component),c(Switch,[{"key":"switchChange","value":function switchChange(e){var t=this.props.onChange;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.checked}}),t&&t(e),this.setState({"checked":e.target.checked})}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){e.hasOwnProperty("checked")&&this.setState({"checked":e.checked})}},{"key":"render","value":function render(){var e=this.props,t=e.type,n=void 0===t?"switch":t,i=e.className,c=e.color,u=a()(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({},"weui-"+function parseType(e){if(!l[e])throw new Error("unexpected type");return l[e]}(n),!0),i),p=void 0;return p=this.state.checked?{"borderColor":c||"04BE02","backgroundColor":c||"04BE02"}:"",o.l.createElement("input",s({},Object(r.a)(this.props,["className","checked","onChange"]),{"className":u,"checked":this.state.checked,"type":"checkbox","onChange":this.switchChange,"style":p}))}}]),Switch}();t.a=u},"492":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o,r,i=n(3),a=n(21),s=n(4),c=n(747),l=n(553),u=n(750),p=n(359),h=(n(493),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var f=(r=o=function(e){function ListSearch(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ListSearch);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ListSearch.__proto__||Object.getPrototypeOf(ListSearch)).call(this,e));return t.handleFocusSearchHistory=function(e){t.setState({"showSearchDailog":e,"isShowAction":!0,"searchValue":" "}),Object(a.a)({"key":"searchHistory"}).then(function(e){var n=e.data.split(",");t.setState({"historyList":n})}).catch(function(){})},t.handleChangeSearch=function(e){},t.handleBlur=function(e){var n=e.detail.value;n=n.replace(/\s+/g,""),t.setState({"searchValue":n})},t.handleConfirm=function(){setTimeout(function(){t.state.searchValue&&t.props.onConfirm(t.state.searchValue)},300)},t.handleClear=function(){t.props.onConfirm("")},t.handleClickCancel=function(e){t.setState({"showSearchDailog":e,"searchValue":"","isShowAction":!1})},t.state={"searchValue":"","historyList":[],"isShowAction":!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ListSearch,s["a"].Component),h(ListSearch,[{"key":"componentDidMount","value":function componentDidMount(){Object(p.b)(this.refs.container)}},{"key":"render","value":function render(){var e=this.state,t=e.isShowAction,n=e.searchValue;return i.l.createElement(c.a,{"className":"home-search-input"},i.l.createElement(l.a,{"className":"home-search__form"},i.l.createElement(u.a,{"className":"home-search__bar","value":n,"placeholder":"请输入关键词","actionName":"取消","showActionButton":t,"onFocus":this.handleFocusSearchHistory.bind(this,!0),"onClear":this.handleClear.bind(this),"onBlur":this.handleBlur.bind(this),"onChange":this.handleChangeSearch.bind(this),"onConfirm":this.handleConfirm.bind(this),"onActionClick":this.handleClickCancel.bind(this,!1)})))}}]),ListSearch}(),o.defaultProps={"isOpened":!1},o.options={"addGlobalClass":!0},r)},"493":function(e,t,n){},"503":function(e,t,n){"use strict";var o=n(3),r=n(747),i=n(350),a=n.n(i),s=n(49),c=n.n(s),l=n(349),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var p=function(e){function AtList(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtList),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtList.__proto__||Object.getPrototypeOf(AtList)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtList,l["a"]),u(AtList,[{"key":"render","value":function render(){var e=c()("at-list",{"at-list--no-border":!this.props.hasBorder},this.props.className);return o.l.createElement(r.a,{"className":e},this.props.children)}}]),AtList}();p.defaultProps={"hasBorder":!0},p.propTypes={"hasBorder":a.a.bool};var h,f,m=n(462),d=n(376),_=n(465),b=n(52),y=n.n(b),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function item_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=(h=function(e){function AtListItem(){var e,t,n;!function item_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtListItem);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n=item_possibleConstructorReturn(this,(e=AtListItem.__proto__||Object.getPrototypeOf(AtListItem)).call.apply(e,[this].concat(r))),f.call(n),item_possibleConstructorReturn(n,t)}return function item_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtListItem,l["a"]),g(AtListItem,[{"key":"handleSwitchClick","value":function handleSwitchClick(e){e.stopPropagation()}},{"key":"render","value":function render(){var e=this.props,t=e.note,n=e.arrow,i=e.title,a=e.thumb,s=e.iconInfo,l=e.disabled,u=e.isSwitch,p=e.extraText,h=e.hasBorder,f=e.extraThumb,b=e.switchColor,y=e.switchIsCheck,g=c()("at-list__item",{"at-list__item--thumb":a,"at-list__item--multiple":t,"at-list__item--disabled":l,"at-list__item--no-border":!h},this.props.className),w=c()(s.prefixClass||"at-icon",function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({},(s.prefixClass||"at-icon")+"-"+s.value,s.value),s.className);return o.l.createElement(r.a,{"className":g,"onClick":this.handleClick},o.l.createElement(r.a,{"className":"at-list__item-container"},a&&o.l.createElement(r.a,{"className":"at-list__item-thumb item-thumb"},o.l.createElement(m.a,{"className":"item-thumb__info","mode":"scaleToFill","src":a})),s.value&&o.l.createElement(r.a,{"className":"at-list__item-icon item-icon"},o.l.createElement(d.a,{"className":w,"style":this.mergeStyle({"color":s.color||"","fontSize":(s.size||24)+"px"},s.customStyle)})),o.l.createElement(r.a,{"className":"at-list__item-content item-content"},o.l.createElement(r.a,{"className":"item-content__info"},o.l.createElement(r.a,{"className":"item-content__info-title"},i),t&&o.l.createElement(r.a,{"className":"item-content__info-note"},t))),o.l.createElement(r.a,{"className":"at-list__item-extra item-extra"},p&&o.l.createElement(r.a,{"className":"item-extra__info"},p),f&&!p&&o.l.createElement(r.a,{"className":"item-extra__image"},o.l.createElement(m.a,{"className":"item-extra__image-info","mode":"aspectFit","src":f})),u&&!f&&!p&&o.l.createElement(r.a,{"className":"item-extra__switch","onClick":this.handleSwitchClick},o.l.createElement(_.a,{"color":b,"disabled":l,"checked":y,"onChange":this.handleSwitchChange})),n?o.l.createElement(r.a,{"className":"item-extra__icon"},o.l.createElement(d.a,{"className":"at-icon item-extra__icon-arrow at-icon-chevron-"+n})):null)))}}]),AtListItem}(),f=function _initialiseProps(){var e=this;this.handleClick=function(){var t;y()(e.props.onClick)&&!e.props.disabled&&(t=e.props).onClick.apply(t,arguments)},this.handleSwitchChange=function(){var t;y()(e.props.onSwitchChange)&&!e.props.disabled&&(t=e.props).onSwitchChange.apply(t,arguments)}},h);w.defaultProps={"note":"","disabled":!1,"title":"","thumb":"","isSwitch":!1,"hasBorder":!0,"switchColor":"#6190E8","switchIsCheck":!1,"extraText":"","extraThumb":"","iconInfo":{},"onSwitchChange":function onSwitchChange(){},"onClick":function onClick(){}},w.propTypes={"note":a.a.string,"disabled":a.a.bool,"title":a.a.string,"thumb":a.a.string,"onClick":a.a.func,"isSwitch":a.a.bool,"hasBorder":a.a.bool,"switchColor":a.a.string,"switchIsCheck":a.a.bool,"extraText":a.a.string,"extraThumb":a.a.string,"onSwitchChange":a.a.func,"arrow":a.a.oneOf(["up","down","right"]),"iconInfo":a.a.shape({"size":a.a.number,"value":a.a.string,"color":a.a.string,"prefixClass":a.a.string,"customStyle":a.a.oneOfType([a.a.object,a.a.string]),"className":a.a.oneOfType([a.a.array,a.a.string])})},n.d(t,"a",function(){return C});var v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var C=function(e){function AtDrawer(e){!function drawer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtDrawer);var t=function drawer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtDrawer.__proto__||Object.getPrototypeOf(AtDrawer)).apply(this,arguments));return t.state={"animShow":!1,"_show":e.show},t}return function drawer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtDrawer,l["a"]),v(AtDrawer,[{"key":"componentDidMount","value":function componentDidMount(){this.state._show&&this.animShow()}},{"key":"onItemClick","value":function onItemClick(e,t){this.props.onItemClick&&this.props.onItemClick(e),this.animHide(t,e)}},{"key":"onHide","value":function onHide(){var e=this;this.setState({"_show":!1},function(){e.props.onClose&&e.props.onClose()})}},{"key":"animHide","value":function animHide(){var e=this,t=arguments;this.setState({"animShow":!1}),setTimeout(function(){e.onHide.apply(e,t)},300)}},{"key":"animShow","value":function animShow(){var e=this;this.setState({"_show":!0}),setTimeout(function(){e.setState({"animShow":!0})},200)}},{"key":"onMaskClick","value":function onMaskClick(){this.animHide.apply(this,arguments)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=e.show;t!==this.state._show&&(t?this.animShow():this.animHide.apply(this,arguments))}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.mask,i=t.width,a=t.right,s=t.items,l=this.state,u=l.animShow,h=l._show,f={"display":n?"block":"none","opacity":u?1:0},m={"width":i,"transition":u?"all 225ms cubic-bezier(0, 0, 0.2, 1)":"all 195ms cubic-bezier(0.4, 0, 0.6, 1)"},d={"at-drawer--show":u,"at-drawer--right":a,"at-drawer--left":!a};return h&&o.l.createElement(r.a,{"className":c()(["at-drawer"],d,this.props.className)},o.l.createElement(r.a,{"className":"at-drawer__mask","style":f,"onClick":this.onMaskClick.bind(this)}),o.l.createElement(r.a,{"className":"at-drawer__content","style":m},s.length?o.l.createElement(p,null,s.map(function(t,n){return o.l.createElement(w,{"key":n,"data-index":n,"onClick":e.onItemClick.bind(e,n),"title":t,"arrow":"right"})})):this.props.children))}}]),AtDrawer}();C.defaultProps={"show":!1,"mask":!0,"width":"","right":!1,"items":[],"onItemClick":function onItemClick(){},"onClose":function onClose(){}},C.propTypes={"show":a.a.bool,"mask":a.a.bool,"width":a.a.string,"items":a.a.arrayOf(a.a.string),"onItemClick":a.a.func,"onClose":a.a.func}},"651":function(e,t,n){},"771":function(e,t,n){"use strict";n.r(t);var o,r,i,a=n(3),s=n(4),c=n(347),l=n(747),u=n(376),p=n(817),h=n(748),f=n(353),m=n(503),d=n(351),_=n(492),b=n(15),y=n(13),g=n(16),w=(n(651),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),C=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}t.default=Object(f.c)(o=Object(f.a)((i=r=function(e){function RecommendList(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RecommendList);var n,o=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(RecommendList.__proto__||Object.getPrototypeOf(RecommendList)).call(this,e));return o.handleClickItem=function(e){var t="/pages/recommend/detail?id="+e.item_id;s.a.navigateTo({"url":t})},o.handleConfirm=function(e){o.setState({"showDrawer":!1,"query":w({"showDrawer":!1},o.state.query,{"title":e})},function(){o.resetPage(),o.setState({"list":[]},function(){o.nextPage()})})},o.handleClickFilter=function(){o.setState({"showDrawer":!0})},o.handleClickParmas=function(e){var t=o.state,n=t.columnList,r=t.selectColumn;n.map(function(t){t.id===e?(t.isChooseColumn=!0,r=t):t.isChooseColumn=!1}),o.setState({"columnList":n,"selectColumn":r})},o.handleRegionRefresh=function(e){e.stopPropagation(),o.resetPage();var t=o.state.query;Object.assign(t,{"regions_id":[],"province":"","city":"","area":""}),o.setState({"multiIndex":[],"areaList":[],"list":[],"info":{"city":"","county":"","province":""},"query":t},function(){o.nextPage()})},o.handleClickSearchParams=function(e){if(o.setState({"showDrawer":!1}),"reset"===e){var t=o.state,n=t.paramsList,r=t.selectParams;o.state.paramsList.map(function(e){e.attribute_values.map(function(e){""===e.attribute_value_id?e.isChooseParams=!0:e.isChooseParams=!1})}),r.map(function(e){e.attribute_value_id=""}),o.setState({"paramsList":n,"selectParams":r})}o.resetPage(),o.setState({"list":[]},function(){o.nextPage()})},o.handleClickPicker=function(){var e=[],t=[],n=[];o.addList&&(o.addList.map(function(o,r){e.push(o.label),0===r&&o.children.map(function(e,o){t.push(e.label),0===o&&e.children.map(function(e){n.push(e.label)})})}),o.setState({"showDrawer":!1,"areaList":[e,t,n],"multiIndex":[0,0,0]}))},o.bindMultiPickerChange=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var n,r,i,a;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:n=o.state.info,o.addList.map(function(t,o){o===e.detail.value[0]&&(n.province=t.label,t.children.map(function(t,o){o===e.detail.value[1]&&(n.city=t.label,t.children.map(function(t,o){o===e.detail.value[2]&&(n.county=t.label)}))}))}),r=n.province,i=n.city,a=n.area,o.setState({"query":w({},o.state.query,{"province":r,"city":i,"area":a})},function(){o.resetPage(),o.setState({"list":[]},function(){o.nextPage()})}),o.setState({"info":n});case 5:case"end":return t.stop()}},_callee,t)})),function(e){return n.apply(this,arguments)}),o.bindMultiPickerColumnChange=function(e){var t=o.state,n=t.areaList,r=t.multiIndex;0===e.detail.column?(o.setState({"multiIndex":[e.detail.value,0,0]}),o.addList.map(function(t,r){if(r===e.detail.value){var i=[],a=[];t.children.map(function(e,t){i.push(e.label),0===t&&e.children.map(function(e){a.push(e.label)})}),n[1]=i,n[2]=a,o.setState({"areaList":n})}})):1===e.detail.column?(r[1]=e.detail.value,r[2]=0,o.setState({"multiIndex":r},function(){o.addList[r[0]].children.map(function(t,r){if(r===e.detail.value){var i=[];t.children.map(function(e){i.push(e.label)}),n[2]=i,o.setState({"areaList":n})}})})):(r[2]=e.detail.value,o.setState({"multiIndex":r}))},o.state=w({},o.state,{"list":[],"query":null,"showDrawer":!1,"selectColumn":{},"columnList":[],"info":{},"areaList":[],"multiIndex":[]}),o}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RecommendList,s["a"].Component),v(RecommendList,[{"key":"componentDidShow","value":function componentDidShow(){var e=this,t=this.$router.params;if(t){var n=t.id,o=t.name;this.setState({"selectColumn":{"id":n,"name":o,"isChooseColumn":!0}})}Object(c.b)(),this.resetPage(),this.setState({"list":[]}),setTimeout(function(){e.nextPage(),Object(c.a)()},200)}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n,o,r,i,a,s,c,l,u,p,h,f,m,d,_,v,C,k,P,O;return regeneratorRuntime.wrap(function _callee2$(L){for(;;)switch(L.prev=L.next){case 0:if(t=e.page_no,n=e.page_size,o=this.state,r=o.columnList,i=o.areaList,a=this.state.selectColumn,s=w({},this.state.query,{"article_type":"bring","page":t,"pageSize":n,"category_id":a.id}),0!==r.length){L.next=14;break}return L.next=7,b.a.article.columnList();case 7:c=L.sent,l=Object(y.q)(c,{"name":"category_name","id":"category_id"}),u={},a.id?(u={"id":"","name":"全部","isChooseColumn":!1},l.map(function(e){e.id===a.id?e.isChooseColumn=!0:e.isChooseColumn=!1})):u={"id":"","name":"全部","isChooseColumn":!0},a=Object.assign({},u),l.unshift(u),this.setState({"columnList":l});case 14:if(!g.a.getAuthToken()){L.next=20;break}return L.next=17,b.a.article.authList(s);case 17:L.t0=L.sent,L.next=23;break;case 20:return L.next=22,b.a.article.list(s);case 22:L.t0=L.sent;case 23:if(p=L.t0,h=p.list,f=p.total_count,m=p.province_list,0!==i.length){L.next=40;break}return L.next=30,b.a.member.areaList();case 30:d=L.sent,_=[],m.map(function(e){var t=d.find(function(t){return e==t.id});t&&_.push(t)}),v=Object(y.q)(_,{"label":"label","id":"id","children":"children"}),this.addList=v,C=[],k=[],P=[],v.map(function(e,t){C.push(e.label),0===t&&e.children.map(function(e,t){k.push(e.label),0===t&&e.children.map(function(e){P.push(e.label)})})}),this.setState({"areaList":[C,k,P]});case 40:return(O=Object(y.q)(h,{"img":"image_url","item_id":"article_id","title":"title","author":"author","summary":"summary","head_portrait":"head_portrait","isPraise":"isPraise","articlePraiseNum":"articlePraiseNum.count"})).map(function(e){e.articlePraiseNum||(e.articlePraiseNum=0)}),this.setState({"list":[].concat(_toConsumableArray(this.state.list),_toConsumableArray(O))}),L.abrupt("return",{"total":f});case 44:case"end":return L.stop()}},_callee2,this)}));return function fetch(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.state,n=t.list,o=t.showBackToTop,r=t.scrollTop,i=t.page,c=t.showDrawer,f=t.info,b=t.columnList,g=t.selectColumn,w=t.multiIndex,v=t.areaList,C=f.province+f.city;return a.l.createElement(l.a,{"className":"page-goods-list page-recommend-list"},a.l.createElement(l.a,{"className":"recommend-list__toolbar"},a.l.createElement(l.a,{"class":"search-bar"},a.l.createElement(_.a,{"onConfirm":this.handleConfirm.bind(this)})),a.l.createElement(d.d,{"className":"goods-list__tabs"},a.l.createElement(l.a,{"className":"filter-bar__item","onClick":this.handleClickFilter.bind(this)},a.l.createElement(l.a,{"className":"icon-menu"}),a.l.createElement(u.a,null,g.name||"栏目")),a.l.createElement(l.a,{"className":"filter-bar__item region-picker"},a.l.createElement(p.a,{"mode":"multiSelector","onClick":this.handleClickPicker,"onChange":this.bindMultiPickerChange,"onColumnChange":this.bindMultiPickerColumnChange,"value":w,"range":v},a.l.createElement(l.a,{"className":"icon-periscope"}),a.l.createElement(u.a,null,C||"地区")),C&&a.l.createElement(u.a,{"className":"icon-close","onClick":this.handleRegionRefresh.bind(this)})))),a.l.createElement(m.a,{"show":c,"right":!0,"mask":!0,"width":""+s.a.pxTransform(570)},a.l.createElement(l.a,{"className":"drawer-item"},a.l.createElement(l.a,{"className":"drawer-item__options"},b.map(function(t,n){return a.l.createElement(l.a,{"className":Object(y.d)("drawer-item__options__item",t.isChooseColumn?"drawer-item__options__checked":""),"key":n,"onClick":e.handleClickParmas.bind(e,t.id)},t.name)}),a.l.createElement(l.a,{"className":"drawer-item__options__none"}," "),a.l.createElement(l.a,{"className":"drawer-item__options__none"}," "),a.l.createElement(l.a,{"className":"drawer-item__options__none"}," "))),a.l.createElement(l.a,{"className":"drawer-footer"},a.l.createElement(u.a,{"className":"drawer-footer__btn","onClick":this.handleClickSearchParams.bind(this,"reset")},"重置"),a.l.createElement(u.a,{"className":"drawer-footer__btn drawer-footer__btn_active","onClick":this.handleClickSearchParams.bind(this,"submit")},"确定"))),a.l.createElement(h.a,{"className":"goods-list__scroll","scrollY":!0,"scrollTop":r,"scrollWithAnimation":!0,"onScroll":this.handleScroll,"onScrollToLower":this.nextPage},a.l.createElement(l.a,{"className":"goods-list goods-list__type-grid"},n.map(function(t){return a.l.createElement(d.n,{"key":t.item_id,"info":t,"onClick":function onClick(){return e.handleClickItem(t)}})})),i.isLoading?a.l.createElement(d.j,null,"正在加载..."):null,!i.isLoading&&!i.hasNext&&!n.length&&a.l.createElement(d.s,{"img":"trades_empty.png"},"暂无数据~")),a.l.createElement(d.b,{"show":o,"onClick":this.scrollBackToTop}),a.l.createElement(d.u,{"current":2}))}},{"key":"componentDidMount","value":function componentDidMount(){C(RecommendList.prototype.__proto__||Object.getPrototypeOf(RecommendList.prototype),"componentDidMount",this)&&C(RecommendList.prototype.__proto__||Object.getPrototypeOf(RecommendList.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){C(RecommendList.prototype.__proto__||Object.getPrototypeOf(RecommendList.prototype),"componentDidHide",this)&&C(RecommendList.prototype.__proto__||Object.getPrototypeOf(RecommendList.prototype),"componentDidHide",this).call(this)}}]),RecommendList}(),r.config={"navigationBarTitleText":"文章"},o=i))||o)||o}}]);