(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"353":function(e,t,n){"use strict";var r=n(16),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var i={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.WILL_MOUNT;return void 0!==i[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),o(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return this.$__autoLogin_state="pending",e=void 0,t.prev=2,t.next=5,r.a.autoLogin(this);case 5:e=t.sent,this.$__autoLogin_state=e?"success":"fail",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.$__autoLogin_state="fail";case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return e.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var e=void 0,t=8,n=this;return new Promise(function(r){!function next(){e&&clearTimeout(e),e=setTimeout(function(){var o=n.$__autoLogin_state;"success"===o||"fail"===o?(clearTimeout(e),e=null,r("success"===o)):t>0?(t--,next()):r(!1)},70)}()})}}]),WithLogin}()}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var r=e||{},o=r.pageSize,a=void 0===o?10:o,i=r.pageNo,c=void 0===i?0:i,s=r.pageTotal,u={"hasNext":!0,"isLoading":!1,"total":void 0===s?0:s,"page_no":c,"page_size":a};return t.state.page=u,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),s(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=c({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":t},e)}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if((t=e.state.page).hasNext&&!t.isLoading){s.next=3;break}return s.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,r=t.page_size,o=n+1,s.next=9,e.fetch({"page_no":o,"page_size":r});case 9:a=s.sent,(!(i=a.total)||o>=Math.ceil(+i/r))&&(t.hasNext=!1),e.setState({"page":c({},t,{"total":i,"page_no":o,"isLoading":!1})});case 13:case"end":return s.stop()}},_callee,e)}))},t}var u=n(13),l=n(50),p=n.n(l),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":1},function(){})},t.handleScroll=p()(function(e){var n=e.detail,r=n.scrollTop;n.scrollHeight<600||(r>300&&!t.state.showBackToTop?(u.n.debug("[BackToTop] showBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&r<=300&&(u.n.debug("[BackToTop] hideBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!1})))},70),t.state=f({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"455":function(e,t,n){"use strict";var r,o,a,i,c,s=n(21),u=n(472),l=n(15),p=(r=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var n,r,o,a,i,c;return regeneratorRuntime.wrap(function _callee$(u){for(;;)switch(u.prev=u.next){case 0:if(n=null,e.scene?(r=decodeURIComponent(e.scene),n=parseUrlStr(r)):n=e,n.dtid||(o=Object(s.b)("curStore"),(a=o.distributor_id)&&(n.dtid=a)),i=!1,c={},!n.dtid){u.next=10;break}return u.next=8,_(n.dtid);case 8:c=u.sent,i=!c.status;case 10:if(i){u.next=14;break}return u.next=13,h(t);case 13:c=u.sent;case 14:return c.status||(n.store=c,n.dtid=c.distributor_id),n.uid?(Object(s.f)("distribution_shop_id",n.uid),Object(s.f)("trackParams",{})):n.s&&n.m&&(Object(s.f)("distribution_shop_id",""),Object(s.f)("trackParams",{"source_id":n.s,"monitor_id":n.m}),trackViewNum(n.m,n.s)),u.abrupt("return",n);case 17:case"end":return u.stop()}},_callee,this)})),function entryLaunch(e,t){return r.apply(this,arguments)}),f=(o=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n;return regeneratorRuntime.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return e={"template_name":"yykweishop","version":"v1.0.1","name":"setting"},r.next=3,l.a.category.getCategory(e);case 3:if(t=r.sent,n=t[0].params,!(t.length>0)){r.next=17;break}if(n&&n.config){r.next=10;break}return r.abrupt("return",!0);case 10:if(!n.config.location){r.next=14;break}return r.abrupt("return",!0);case 14:return r.abrupt("return",!1);case 15:r.next=18;break;case 17:return r.abrupt("return",!0);case 18:return r.abrupt("return",positionStatus);case 19:case"end":return r.stop()}},_callee2,this)})),function getLocalSetting(){return o.apply(this,arguments)}),h=(a=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){var t,n,r,o;return regeneratorRuntime.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f();case 2:if(t=a.sent,n=null,t){a.next=10;break}return a.next=7,l.a.shop.getShop();case 7:n=a.sent,a.next=22;break;case 10:if(!(r=Object(s.b)("lnglat"))){a.next=19;break}return o={},e&&t&&(o.lat=r.latitude,o.lng=r.longitude),a.next=16,l.a.shop.getShop(o);case 16:n=a.sent,a.next=22;break;case 19:return a.next=21,l.a.shop.getShop();case 21:n=a.sent;case 22:return n.status?Object(s.f)("curStore",!1):Object(s.f)("curStore",n),a.abrupt("return",n);case 24:case"end":return a.stop()}},_callee3,this)})),function getLocal(e){return a.apply(this,arguments)}),_=(i=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)({"type":"gcj02"}).then(function(e){return Object(s.e)({"key":"lnglat","data":e}),e},function(e){return""});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee4,this)})),c=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t;return regeneratorRuntime.wrap(function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.shop.getShop({"distributor_id":e});case 2:return!1===(t=n.sent).status?Object(s.f)("curStore",t):Object(s.f)("curStore",""),n.abrupt("return",t);case 5:case"end":return n.stop()}},_callee5,this)})),function handleDistributorId(e){return c.apply(this,arguments)});function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}function trackViewNum(e,t){if(!Object(s.b)("_session"))return!0;if(e&&t){var n={"source_id":t,"monitor_id":e};l.a.track.viewnum(n)}return!0}function parseUrlStr(e){var t=[];if(e)for(var n=0;n<e.split("&").length;n++)t[n]=e.split("&")[n];for(var r=[],o=0;o<t.length;o++){var a=t[o].split("=");r[a[0]]=decodeURI(a[1])}return r}t.a={"entryLaunch":p,"getLocal":h,"getLocalSetting":f}},"472":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(1),o=Object(r.i)("getLocation"),a=Object(r.i)("openLocation",{"scale":18})},"492":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,o,a=n(3),i=n(21),c=n(4),s=n(747),u=n(553),l=n(750),p=n(359),f=(n(493),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var h=(o=r=function(e){function ListSearch(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ListSearch);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ListSearch.__proto__||Object.getPrototypeOf(ListSearch)).call(this,e));return t.handleFocusSearchHistory=function(e){t.setState({"showSearchDailog":e,"isShowAction":!0,"searchValue":" "}),Object(i.a)({"key":"searchHistory"}).then(function(e){var n=e.data.split(",");t.setState({"historyList":n})}).catch(function(){})},t.handleChangeSearch=function(e){},t.handleBlur=function(e){var n=e.detail.value;n=n.replace(/\s+/g,""),t.setState({"searchValue":n})},t.handleConfirm=function(){setTimeout(function(){t.state.searchValue&&t.props.onConfirm(t.state.searchValue)},300)},t.handleClear=function(){t.props.onConfirm("")},t.handleClickCancel=function(e){t.setState({"showSearchDailog":e,"searchValue":"","isShowAction":!1})},t.state={"searchValue":"","historyList":[],"isShowAction":!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ListSearch,c["a"].Component),f(ListSearch,[{"key":"componentDidMount","value":function componentDidMount(){Object(p.b)(this.refs.container)}},{"key":"render","value":function render(){var e=this.state,t=e.isShowAction,n=e.searchValue;return a.l.createElement(s.a,{"className":"home-search-input"},a.l.createElement(u.a,{"className":"home-search__form"},a.l.createElement(l.a,{"className":"home-search__bar","value":n,"placeholder":"请输入关键词","actionName":"取消","showActionButton":t,"onFocus":this.handleFocusSearchHistory.bind(this,!0),"onClear":this.handleClear.bind(this),"onBlur":this.handleBlur.bind(this),"onChange":this.handleChangeSearch.bind(this),"onConfirm":this.handleConfirm.bind(this),"onActionClick":this.handleClickCancel.bind(this,!1)})))}}]),ListSearch}(),r.defaultProps={"isOpened":!1},r.options={"addGlobalClass":!0},o)},"493":function(e,t,n){},"722":function(e,t,n){},"724":function(e,t,n){},"825":function(e,t,n){"use strict";n.r(t);var r,o,a=n(3),i=n(21),c=n(4),s=n(747),u=n(376),l=n(748),p=n(351),f=n(492),h=n(472),_=(n(722),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g,b=(o=r=function(e){function StoreListItem(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StoreListItem);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=StoreListItem.__proto__||Object.getPrototypeOf(StoreListItem)).call.apply(e,[this].concat(o))),n.handleMap=function(e,t){Object(h.b)({"latitude":Number(e),"longitude":Number(t),"scale":18})},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(StoreListItem,c["a"].Component),_(StoreListItem,[{"key":"render","value":function render(){var e=this.props,t=e.info,n=e.onClick;return t?a.l.createElement(s.a,{"className":"store-item","onClick":n},a.l.createElement(s.a,{"className":"store-content"},a.l.createElement(s.a,{"className":"store-name"},t.name),a.l.createElement(s.a,{"className":"store-address"},t.store_address)),t.lat&&a.l.createElement(s.a,{"className":"store-location icon-location","onClick":this.handleMap.bind(this,t.lat,t.lng)})):null}}]),StoreListItem}(),r.defaultProps={"onClick":function onClick(){}},r.options={"addGlobalClass":!0},o),d=n(15),y=n(353),m=n(455),v=(n(724),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),O=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}t.default=Object(y.c)(g=Object(y.a)(g=function(e){function StoreList(e){var t=this;!function list_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StoreList);var n=function list_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(StoreList.__proto__||Object.getPrototypeOf(StoreList)).call(this,e));return n.handleConfirm=function(e){n.setState({"query":v({},n.state.query,{"name":e})},function(){n.resetPage(),n.setState({"list":[]},function(){n.nextPage()})})},n.handleGetLocation=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return n.setState({"loading":!0}),t.next=3,m.a.getLocal();case 3:(e=t.sent)?(Object(i.f)("curStore",e),n.resetPage(),n.setState({"list":[],"current":e,"loading":!1},function(){n.nextPage()})):n.setState({"current":null,"loading":!1});case 5:case"end":return t.stop()}},_callee,t)})),n.handleClick=function(e){Object(i.f)("curStore",e),c.a.navigateBack()},n.state=v({},n.state,{"list":[],"query":null,"current":null,"loading":!1}),n}return function list_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(StoreList,c["a"].Component),w(StoreList,[{"key":"componentDidMount","value":function componentDidMount(){var e=this,t=Object(i.b)("lnglat"),n={};if(t){t.latitude,t.longitude;n={"lat":t.latitude,"lng":t.longitude}}var r=Object(i.b)("curStore");r&&this.setState({"current":r,"query":n},function(){e.nextPage()})}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var t,n,r,o,a,i,c;return regeneratorRuntime.wrap(function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.page_no,n=e.page_size,r=this.state,r.selectParams,r.areaList,r.tagsList,r.curTagId,o=v({},this.state.query,{"page":t,"pageSize":n}),s.next=5,d.a.shop.list(o);case 5:return a=s.sent,i=a.list,c=a.total_count,this.setState({"list":[].concat(_toConsumableArray(this.state.list),_toConsumableArray(i)),"query":o}),s.abrupt("return",{"total":c});case 10:case"end":return s.stop()}},_callee2,this)}));return function fetch(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.state,n=t.list,r=t.scrollTop,o=t.showBackToTop,i=t.loading,c=t.current;return a.l.createElement(s.a,{"className":"page-store-list"},a.l.createElement(s.a,{"class":"search-bar"},a.l.createElement(f.a,{"onConfirm":this.handleConfirm.bind(this)})),a.l.createElement(s.a,{"class":"current-store"},a.l.createElement(s.a,{"className":"label"},"当前位置"),a.l.createElement(s.a,{"className":"content view-flex"},a.l.createElement(s.a,{"className":"view-flex-item"},i?a.l.createElement(u.a,{"className":"loading"},"定位中..."):a.l.createElement(u.a,null,c?c.name:"定位失败...")),a.l.createElement(s.a,{"className":"view-flex view-flex-middle","onClick":this.handleGetLocation},"重新定位 ",a.l.createElement(u.a,{"className":"icon-target"})))),a.l.createElement(l.a,{"className":"page-store-list__scroll","scrollY":!0,"scrollTop":r,"scrollWithAnimation":!0,"onScroll":this.handleScroll,"onScrollToLower":this.nextPage},a.l.createElement(s.a,{"className":"store-list"},n.map(function(t){return a.l.createElement(b,{"info":t,"key":t.distributor_id,"onClick":e.handleClick.bind(e,t)})}))),a.l.createElement(p.b,{"show":o,"onClick":this.scrollBackToTop}),a.l.createElement(p.t,null))}},{"key":"componentDidShow","value":function componentDidShow(){O(StoreList.prototype.__proto__||Object.getPrototypeOf(StoreList.prototype),"componentDidShow",this)&&O(StoreList.prototype.__proto__||Object.getPrototypeOf(StoreList.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){O(StoreList.prototype.__proto__||Object.getPrototypeOf(StoreList.prototype),"componentDidHide",this)&&O(StoreList.prototype.__proto__||Object.getPrototypeOf(StoreList.prototype),"componentDidHide",this).call(this)}}]),StoreList}())||g)||g}}]);