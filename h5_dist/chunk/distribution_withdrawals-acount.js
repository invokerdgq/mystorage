(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"706":function(t,e,n){},"797":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var a=n(3),i=n(4),r=n(747),o=n(456),c=n(371),l=n(15),s=(n(706),function(){function defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}()),u=function get(t,e,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,e);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:get(i,e,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0};function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function step(a,i){try{var r=e[a](i),o=r.value}catch(t){return void n(t)}if(!r.done)return Promise.resolve(o).then(function(t){step("next",t)},function(t){step("throw",t)});t(o)}("next")})}}var p=function(t){function DistributionWithdrawalsAcount(t){var e=this;!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DistributionWithdrawalsAcount);var n=function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(DistributionWithdrawalsAcount.__proto__||Object.getPrototypeOf(DistributionWithdrawalsAcount)).call(this,t));return n.handleChange=function(t,e){n.setState(function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):t[e]=n,t}({},t,e))},n.handleClick=function(){n.setState({"isEdit":!0})},n.handleSubmit=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var t,a,i,r,o,c,s,u,p,h,m;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.name,i=t.acount,r=t.new_acount,o=t.hasBind,t.isEdit,c={"alipay_name":a,"alipay_account":o?r:i},e.next=4,l.a.distribution.update(c);case 4:s=e.sent,u=s.list,p=u[0],h=p.alipay_name,m=p.alipay_account,n.setState({"name":h,"acount":m,"new_acount":"","isEdit":!1});case 8:case"end":return e.stop()}},_callee,e)})),n.state={"acount":"","name":"","new_acount":"","hasBind":!1,"isEdit":!1},n}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"enumerable":!1,"writable":!0,"configurable":!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(DistributionWithdrawalsAcount,i["a"].Component),s(DistributionWithdrawalsAcount,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var t,e,n;return regeneratorRuntime.wrap(function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.distribution.info();case 2:t=a.sent,e=t.alipay_name,n=t.alipay_account,this.setState({"name":e,"acount":n,"hasBind":!!e&&!!n});case 6:case"end":return a.stop()}},_callee2,this)}));return function fetch(){return t.apply(this,arguments)}}()},{"key":"render","value":function render(){var t=this.state,e=t.name,n=t.acount,i=t.isEdit,l=t.hasBind;return a.l.createElement(r.a,{"className":"page-distribution-acount"},a.l.createElement(r.a,{"className":"section list message"},l?a.l.createElement(r.a,{"className":"list-item"},a.l.createElement(r.a,{"className":""},"开户人姓名："),a.l.createElement(r.a,{"className":"list-item-txt"},e)):a.l.createElement(c.a,{"className":"message-input","title":"开户人姓名：","type":"text","maxLength":"30","onChange":this.handleChange.bind(this,"name"),"value":e,"placeholder":"请输入开户人姓名"}),l?a.l.createElement(r.a,{"className":"list-item"},a.l.createElement(r.a,{"className":""},"支付宝账号："),a.l.createElement(r.a,{"className":"list-item-txt"},n)):a.l.createElement(c.a,{"className":"message-input","title":"支付宝账号","type":"text","maxLength":"30","onChange":this.handleChange.bind(this,"acount"),"value":n,"placeholder":"请输入账号"}),l&&i&&a.l.createElement(c.a,{"className":"message-input","title":"新支付宝账号","type":"text","maxLength":"30","onChange":this.handleChange.bind(this,"new_acount"),"value":new_acount,"placeholder":"请填写其他未绑定的支付宝账号"})),a.l.createElement(r.a,{"className":"content-padded"},!l&&a.l.createElement(o.a,{"type":"primary","onClick":this.handleSubmit},"确认绑定"),l&&!i&&a.l.createElement(o.a,{"type":"primary","onClick":this.handleClick},"修改支付宝账号"),l&&i&&a.l.createElement(o.a,{"type":"primary","onClick":this.handleSubmit},"确认修改并保存")),a.l.createElement(r.a,{"className":"g-ul"},a.l.createElement(r.a,{"className":"g-ul-li"},"请务必准确填写开户人姓名和支付宝账号"),a.l.createElement(r.a,{"className":"g-ul-li"},"支持支付宝账户的修改，但每天仅限1次")))}},{"key":"componentDidShow","value":function componentDidShow(){u(DistributionWithdrawalsAcount.prototype.__proto__||Object.getPrototypeOf(DistributionWithdrawalsAcount.prototype),"componentDidShow",this)&&u(DistributionWithdrawalsAcount.prototype.__proto__||Object.getPrototypeOf(DistributionWithdrawalsAcount.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){u(DistributionWithdrawalsAcount.prototype.__proto__||Object.getPrototypeOf(DistributionWithdrawalsAcount.prototype),"componentDidHide",this)&&u(DistributionWithdrawalsAcount.prototype.__proto__||Object.getPrototypeOf(DistributionWithdrawalsAcount.prototype),"componentDidHide",this).call(this)}}]),DistributionWithdrawalsAcount}()}}]);