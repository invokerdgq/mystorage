(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{"1003":function(e,t,n){"use strict";n.r(t);var o,r,i=n(3),a=n(358),c=n(5),l=n(357),s=n(4),u=n(906),p=n(459),f=n(905),h=n(474),m=n(458),d=n(368),y=n(34),v=n(457),b=n(371),_=(n(888),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var g,w,O=(r=o=function(e){function RoomItem(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomItem),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(RoomItem.__proto__||Object.getPrototypeOf(RoomItem)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RoomItem,s["a"].Component),_(RoomItem,[{"key":"render","value":function render(){var e=this.props.info,t=e.room_name,n=e.room_status,o=e.hot,r=e.room_cover;return i.l.createElement(u.a,{"className":"room-item"},i.l.createElement(f.a,{"className":"img","src":r}),i.l.createElement(u.a,{"className":"content"},i.l.createElement(u.a,null,i.l.createElement(b.a,{"renderTrue":i.l.createElement(u.a,{"className":"dec-container"},i.l.createElement(u.a,{"className":"dot"}),i.l.createElement(u.a,{"className":"status-dec"},1==n?"直播中":"未开播")),"renderHide":i.l.createElement(u.a,{"className":"dec-container"},i.l.createElement(u.a,{"className":"dot"}),i.l.createElement(u.a,{"className":"status-dec"},1==n?"直播中":"未开播")),"containerStyle":{"background":"rgba(0,0,0,0.3)","height":"34rpx","borderRadius":"17rpx","lineHeight":"34rpx"}})),i.l.createElement(u.a,{"className":"user-dec"},i.l.createElement(h.a,{"className":"user-name"},t),i.l.createElement(u.a,{"className":"iconfont icon-hot"}),i.l.createElement(h.a,null,o))))}}]),RoomItem}(),o.options={"addGlobalClass":!0},o.defaultProps={"info":{"room_name":"测试测试","room_status":1,"hot":500,"room_cover":""}},r),T=n(9),P=n(17),k=(n(890),n(892),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var E,x=(w=g=function(e){function OwnRecommendItem(e){return function recommend_item_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OwnRecommendItem),function recommend_item_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(OwnRecommendItem.__proto__||Object.getPrototypeOf(OwnRecommendItem)).call(this,e))}return function recommend_item_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(OwnRecommendItem,s["a"].Component),k(OwnRecommendItem,[{"key":"render","value":function render(){var e=this.props.info,t=e.room_name,n=e.room_cover;return i.l.createElement(u.a,{"className":"item"},i.l.createElement(u.a,{"className":"item-bottom"},i.l.createElement(u.a,{"className":"item-bottom-avatar"},i.l.createElement(f.a,{"className":"img","mode":"widthFix","src":n})),i.l.createElement(u.a,{"className":"item-bottom-nick"},t)))}}]),OwnRecommendItem}(),g.defaultProps={"info":{"room_name":"--","room_cover":""}},w),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),j=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}t.default=Object(v.c)(E=function(e){function LiveList(e){var t=this;!function live_list_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LiveList);var n,o=function live_list_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(LiveList.__proto__||Object.getPrototypeOf(LiveList)).call(this,e));return o.postUserInfo=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e,n,o;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return Object(a.c)({"title":"导入用户数据中","mask":!0}),e=Object(c.b)("userinfo"),n=e.vip_grade,o=void 0,t.prev=3,t.next=6,T.a.live.postInfo({"grade_id":Number(n)+1});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),o=t.t0;case 11:o||Object(a.a)();case 12:case"end":return t.stop()}},_callee,t,[[3,8]])})),o.fetch=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(e){var n,r,i,a,c,l,s;return regeneratorRuntime.wrap(function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return n=e.page_no,r=e.page_size,i={"page":n,"pageSize":r,"query":o.state.query,"sort":o.state.sort},t.next=4,T.a.live.getRoomList(i);case 4:return a=t.sent,c=a.list,l=a.total_count,s=l,o.setState({"roomList":[].concat(_toConsumableArray(o.state.roomList),_toConsumableArray(c))}),t.abrupt("return",{"total":s});case 10:case"end":return t.stop()}},_callee2,t)})),function(e){return n.apply(this,arguments)}),o.state=L({},o.state,{"query":"","sort":"RANK","presort":"","roomList":[],"list":[]}),o}return function live_list_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LiveList,s["a"].Component),C(LiveList,[{"key":"handleValueChange","value":function handleValueChange(e){this.setState({"query":e.detail.value})}},{"key":"componentDidMount","value":function componentDidMount(){var e=this;if(!P.a.getAuthToken())return P.a.toast("请先登录"),void setTimeout(function(){P.a.login(e)},2e3);this.postUserInfo().then(function(){e.nextPage()})}},{"key":"handleSortChange","value":function handleSortChange(e){var t=this;"ATTEND"===e&&(this.state.presort=this.state.sort),this.resetPage(),this.setState({"roomList":[],"sort":e},function(){t.nextPage()})}},{"key":"handleToRoom","value":function handleToRoom(e){Object(l.j)({"appId":"wxde87f955d769c707","path":"/others/pages/live/live","extraData":L({},e,{"token":Object(c.b)("auth_token"),"owner":0}),"envVersion":"develop","success":function success(){console.log("跳转 苏心购")}})}},{"key":"backSort","value":function backSort(){this.handleSortChange(this.state.presort)}},{"key":"handleSearch","value":function handleSearch(){this.nextPage()}},{"key":"handleToMember","value":function handleToMember(){s.a.navigateTo({"url":"/others/pages/live-list/member"})}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.query,o=t.roomList,r=t.sort,a=t.list;return i.l.createElement(u.a,{"className":"live"},i.l.createElement(d.a,{"title":"直播间列表"}),i.l.createElement(u.a,{"className":"live-list"},i.l.createElement(u.a,{"className":"search-container"},"ATTEND"===r&&i.l.createElement(u.a,{"className":"iconfont icon-arrow-left","onClick":this.backSort.bind(this)}),i.l.createElement(u.a,{"className":"live-search"},i.l.createElement(u.a,{"className":"iconfont icon-sousuo"}),i.l.createElement(p.a,{"type":"text","value":n,"onInput":this.handleValueChange.bind(this),"className":"live-input","placeholder":"请输入昵称/ID","onConfirm":this.handleSearch.bind(this)})),i.l.createElement(u.a,{"className":"iconfont icon-camera-aside"})),"ATTEND"!==r&&i.l.createElement(u.a,{"className":"live-tag"},i.l.createElement(u.a,{"className":"live-tag-item","onClick":this.handleSortChange.bind(this,"RANK")},i.l.createElement(f.a,{"mode":"widthFix","className":"img","src":y.d+"/rank.png"}),i.l.createElement(h.a,{"className":"dec"},"排行榜")),i.l.createElement(u.a,{"className":"live-tag-item","onClick":this.handleSortChange.bind(this,"CITY")},i.l.createElement(f.a,{"mode":"widthFix","className":"img","src":y.d+"/samecity.png"}),i.l.createElement(h.a,{"className":"dec"},"同城")),i.l.createElement(u.a,{"className":"live-tag-item","onClick":this.handleSortChange.bind(this,"ATTEND")},i.l.createElement(f.a,{"mode":"widthFix","className":"img","src":y.d+"/attend.png"}),i.l.createElement(h.a,{"className":"dec"},"关注")),i.l.createElement(u.a,{"className":"live-tag-item","onClick":this.handleToMember.bind(this)},i.l.createElement(f.a,{"mode":"widthFix","className":"img","src":y.d+"/mine.png"}),i.l.createElement(h.a,{"className":"dec"},"我的"))),"ATTEND"!==r&&i.l.createElement(u.a,{"className":"room-list"},i.l.createElement(m.a,{"className":"scroll-room-list","scrollY":!0,"enableFlex":!0,"onScrollToLower":this.nextPage},i.l.createElement(u.a,{"className":"room-list-contain"},o.map(function(t,n){return i.l.createElement(u.a,{"className":"item-container","onClick":e.handleToRoom.bind(e,t)},i.l.createElement(O,{"info":t}))})))),"ATTEND"===r&&0===o.length?i.l.createElement(u.a,{"className":"attend-none"},i.l.createElement(f.a,{"src":y.d+"/none.png","mode":"widthFix","className":"img"}),i.l.createElement(u.a,{"className":"recommend-live"},i.l.createElement(u.a,{"className":"recommend-live-dec"},"为你推荐"),i.l.createElement(u.a,{"className":"recommend-live-list"},0!==a.length&&a.map(function(t,n){return i.l.createElement(u.a,{"className":"item-container","onClick":e.handleToRoom.bind(e,t)},i.l.createElement(O,{"info":t}))})))):"ATTEND"===r?i.l.createElement(u.a,{"className":"attend-dec"},i.l.createElement(u.a,{"className":"own-recommend"},i.l.createElement(u.a,{"className":"own-recommend-dec"},"为你推荐"),i.l.createElement(m.a,{"scrollX":!0,"enableFlex":!0,"className":"scroll-live"},i.l.createElement(u.a,{"className":"own-recommend-list"},a.map(function(t,n){return i.l.createElement(u.a,{"className":"item-container","onClick":e.handleToRoom.bind(e,t)},i.l.createElement(x,{"info":t}))})))),i.l.createElement(u.a,{"className":"attend-list"},i.l.createElement(u.a,{"className":"attend-list-dec"},"我的关注"),i.l.createElement(u.a,{"className":"attend-list-list"},o.map(function(t,n){return i.l.createElement(u.a,{"className":"item-container","onClick":e.handleToRoom.bind(e,t)},i.l.createElement(O,{"info":t}))})),i.l.createElement(u.a,{"className":"more","onClick":this.handleSortChange.bind(this,"RANK")},"更多精彩内容,去主页看看吧 >"))):i.l.createElement(u.a,null)))}},{"key":"componentDidShow","value":function componentDidShow(){j(LiveList.prototype.__proto__||Object.getPrototypeOf(LiveList.prototype),"componentDidShow",this)&&j(LiveList.prototype.__proto__||Object.getPrototypeOf(LiveList.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){j(LiveList.prototype.__proto__||Object.getPrototypeOf(LiveList.prototype),"componentDidHide",this)&&j(LiveList.prototype.__proto__||Object.getPrototypeOf(LiveList.prototype),"componentDidHide",this).call(this)}}]),LiveList}())||E},"368":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o,r,i=n(3),a=n(4),c=n(472),l=n(5),s=n(906),u=(n(377),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var p=(r=o=function(e){function NavGap(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NavGap);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(NavGap.__proto__||Object.getPrototypeOf(NavGap)).call(this,e));return t.handleIconClick=function(){console.log("kakakakk"),a.a.navigateBack()},t.props=e,t.state={"showIcon":!1,"navBar":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NavGap,a["a"].Component),u(NavGap,[{"key":"componentDidMount","value":function componentDidMount(){var e=a.a.getCurrentPages(),t=null;try{t=Object(c.b)(),this.setState({"navBar":t.statusBarHeight})}catch(e){console.log(e)}this.setState({"showIcon":!/(index|category\/index|recommend\/list|cart\/espier-index|member\/index)(.)*/.test(e[e.length-1].route)})}},{"key":"render","value":function render(){var e=this.props,t=e.title,n=(e.home,this.state.showIcon),o=Object(l.b)("top");return i.l.createElement(s.a,{"className":"nav-gap-container","style":{"background":this.props.bg?this.props.bg:"","color":this.props.cl?this.props.cl:"black"}},i.l.createElement(s.a,{"className":"iconfont icon-arrow-left","onClick":this.handleIconClick.bind(this),"style":{"top":o+"px","display":n?"block":"none"}}),i.l.createElement(s.a,{"style":{"top":o+"px"},"className":"gap-title"},t))}}]),NavGap}(),o.options={"addGlobalClass":!0},r)},"371":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o,r,i=n(3),a=n(4),c=n(906),l=(n(386),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var s=(r=o=function(e){function OwnOpacity(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OwnOpacity),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(OwnOpacity.__proto__||Object.getPrototypeOf(OwnOpacity)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(OwnOpacity,a["a"].Component),l(OwnOpacity,[{"key":"render","value":function render(){var e=this.props,t=(e.containerClass,e.containerStyle);return i.l.createElement(c.a,{"className":"more"},i.l.createElement(c.a,{"className":"contain-class","style":t},i.l.createElement(c.a,{"className":"own-hidden"},this.props.renderHide)),i.l.createElement(c.a,{"className":"true-content true-class"},this.props.renderTrue))}}]),OwnOpacity}(),o.options={"addGlobalClass":!0},o.defaultProps={"containerClass":"","containerStyle":null},o.externalClasses=["true-class","contain-class"],r)},"377":function(e,t,n){},"379":function(e,t,n){var o=n(380);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(366)(o,r);o.locals&&(e.exports=o.locals)},"380":function(e,t,n){(e.exports=n(365)(!1)).push([e.i,"/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n.taro-scroll {\n  -webkit-overflow-scrolling: auto;\n}\n\n.taro-scroll::-webkit-scrollbar {\n  display: none;\n}\n\n.taro-scroll-view {\n  overflow: hidden;\n}\n\n.taro-scroll-view__scroll-x {\n  overflow-x: scroll;\n  overflow-y: hidden;\n}\n\n.taro-scroll-view__scroll-y {\n  overflow-x: hidden;\n  overflow-y: scroll;\n}",""])},"381":function(e,t,n){var o=n(382);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(366)(o,r);o.locals&&(e.exports=o.locals)},"382":function(e,t,n){(e.exports=n(365)(!1)).push([e.i,"/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\ninput {\n  display: block;\n  height: 24px;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}",""])},"386":function(e,t,n){},"457":function(e,t,n){"use strict";var o=n(17),r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}var a={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.WILL_MOUNT;return void 0!==a[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),r(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==a.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&e&&i(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return this.$__autoLogin_state="pending",e=void 0,t.prev=2,t.next=5,o.a.autoLogin(this);case 5:e=t.sent,this.$__autoLogin_state=e?"success":"fail",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.$__autoLogin_state="fail";case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return e.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var e=void 0,t=8,n=this;return new Promise(function(o){!function next(){e&&clearTimeout(e),e=setTimeout(function(){var r=n.$__autoLogin_state;"success"===r||"fail"===r?(clearTimeout(e),e=null,o("success"===r)):t>0?(t--,next()):o(!1)},70)}()})}}]),WithLogin}()}}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var o=e||{},r=o.pageSize,i=void 0===r?10:r,a=o.pageNo,c=void 0===a?0:a,l=o.pageTotal,s={"isLoading":!1,"total":void 0===l?0:l,"page_no":c,"page_size":i,"hasNext":!0};return t.state.page=s,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),l(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=c({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":t},e)}},{"key":"transFormPage","value":function transFormPage(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=c({},this.state.page||{},{"page_no":Math.ceil(e/this.state.pageSize),"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":n},t)}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,o,r,i,a;return regeneratorRuntime.wrap(function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if(console.log("hahaha"),t=e.state.page,console.log(t.hasNext),t.hasNext&&!t.isLoading){l.next=5;break}return l.abrupt("return");case 5:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,o=t.page_size,r=n+1,l.next=11,e.fetch({"page_no":r,"page_size":o});case 11:i=l.sent,(!(a=i.total)||r>=Math.ceil(+a/o))&&(t.hasNext=!1),e.setState({"page":c({},t,{"total":a,"page_no":r,"isLoading":!1})});case 15:case"end":return l.stop()}},_callee,e)}))},t}var s=n(15),u=n(53),p=n.n(u),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":1},function(){})},t.handleScroll=p()(function(e){var n=e.detail,o=n.scrollTop;n.scrollHeight<600||(o>300&&!t.state.showBackToTop?(s.n.debug("[BackToTop] showBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&o<=300&&(s.n.debug("[BackToTop] hideBackToTop, scrollTop: "+o),t.setState({"showBackToTop":!1})))},70),t.state=f({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"458":function(e,t,n){"use strict";n(363);var o=n(3),r=n(364),i=n(50),a=n.n(i),c=(n(379),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}function easeOutScroll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];if(e!==t&&"number"==typeof e){var o=t-e,r=500,i=+new Date,a=t>=e;!function step(){e=function linear(e,t,n,o){return n*e/o+t}(+new Date-i,e,o,r),a&&e>=t||!a&&t>=e?n(t):(n(e),requestAnimationFrame(step))}()}}function scrollIntoView(e){document.querySelector("#"+e).scrollIntoView({"behavior":"smooth","block":"center","inline":"start"})}function scrollVertical(e,t){var n=this;t?easeOutScroll(this._scrollTop,e,function(e){console.log("props.scrollY",n.container,n._scrollTop),n.container&&(n.container.scrollTop=e)}):this.container&&(this.container.scrollTop=e),this._scrollTop=e}function scrollHorizontal(e,t){var n=this;t?easeOutScroll(this._scrollLeft,e,function(e){n.container&&(n.container.scrollLeft=e)}):this.container&&(this.container.scrollLeft=e),this._scrollLeft=e}var s=function(e){function ScrollView(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ScrollView);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ScrollView.__proto__||Object.getPrototypeOf(ScrollView)).apply(this,arguments));return e.onTouchMove=function(e){e.stopPropagation()},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ScrollView,o["l"].Component),l(ScrollView,[{"key":"componentDidMount","value":function componentDidMount(){this.handleScroll(this.props,!0)}},{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){this.handleScroll(e)}},{"key":"handleScroll","value":function handleScroll(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.scrollIntoView&&"string"==typeof e.scrollIntoView&&document&&document.querySelector&&document.querySelector("#"+e.scrollIntoView))n?setTimeout(function(){return scrollIntoView(e.scrollIntoView)},500):scrollIntoView(e.scrollIntoView);else{var o="scrollWithAnimation"in e;e.scrollY&&"number"==typeof e.scrollTop&&e.scrollTop!==this._scrollTop&&(n?setTimeout(function(){return scrollVertical.bind(t)(e.scrollTop,o)},10):scrollVertical.bind(this)(e.scrollTop,o)),e.scrollX&&"number"==typeof e.scrollLeft&&e.scrollLeft!==this._scrollLeft&&(n?setTimeout(function(){return scrollHorizontal.bind(t)(e.scrollLeft,o)},10):scrollHorizontal.bind(this)(e.scrollLeft,o))}}},{"key":"render","value":function render(){var e,t=this,n=this.props,i=n.className,l=n.onScroll,s=n.onScrollToUpper,u=n.onScrollToLower,p=n.onTouchMove,f=n.scrollX,h=n.scrollY,m=this.props,d=m.upperThreshold,y=void 0===d?50:d,v=m.lowerThreshold,b=void 0===v?50:v,_=a()("taro-scroll",(_defineProperty(e={},"taro-scroll-view__scroll-x",f),_defineProperty(e,"taro-scroll-view__scroll-y",h),e),i);y=parseInt(y),b=parseInt(b);var g=function throttle(e,t){var n=null;return function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];clearTimeout(n),n=setTimeout(function(){e.apply(void 0,r)},t)}}(function uperAndLower(e){if(t.container){var n=t.container,o=n.offsetWidth,r=n.offsetHeight,i=n.scrollLeft,a=n.scrollTop,c=n.scrollHeight,l=n.scrollWidth;u&&(t.props.scrollY&&r+a+b>=c||t.props.scrollX&&o+i+b>=l)&&u(e),s&&(t.props.scrollY&&a<=y||t.props.scrollX&&i<=y)&&s(e)}},200);return o.l.createElement("div",c({"ref":function ref(e){t.container=e}},Object(r.a)(this.props,["className","scrollTop","scrollLeft"]),{"className":_,"onScroll":function _onScroll(e){var n=t.container,o=n.scrollLeft,r=n.scrollTop,i=n.scrollHeight,a=n.scrollWidth;t._scrollLeft=o,t._scrollTop=r,Object.defineProperty(e,"detail",{"enumerable":!0,"writable":!0,"value":{"scrollLeft":o,"scrollTop":r,"scrollHeight":i,"scrollWidth":a}}),g(e),l&&l(e)},"onTouchMove":function _onTouchMove(e){p?p(e):t.onTouchMove(e)},"onLoad":function onLoad(e){console.log("onload",e)}}),this.props.children)}}]),ScrollView}();t.a=s},"459":function(e,t,n){"use strict";n(363);var o=n(3),r=n(364),i=n(50),a=n.n(i),c=(n(381),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var s=function(e){function Input(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,o["l"].Component),l(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,r=t.confirmType,i=t.password,a=t.onInput,onInput=void 0===a?"":a,c=t.onChange,l=void 0===c?"":c;if(!this.isOnComposition&&!this.onInputExcuted){var s=e.target.value,u=getTrueType(n,r,i);if(this.onInputExcuted=!0,"number"===u&&s&&o<=s.length&&(s=s.substring(0,o),e.target.value=s),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":s}}),!(["number","file"].indexOf(u)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(l)return l(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),n(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?(this.isOnComposition=!1,this.onInputExcuted=!1,this.onInput(e)):this.isOnComposition=!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,i=void 0===n?"":n,l=t.placeholder,s=t.type,u=void 0===s?"text":s,p=t.password,f=t.disabled,h=t.maxLength,m=t.confirmType,d=void 0===m?"":m,y=t.focus,v=void 0!==y&&y,b=t.value,_=a()("weui-input",i),g=Object(r.a)(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(g.value=function fixControlledValue(e){return void 0===e||null===e?"":e}(b)),o.l.createElement("input",c({"ref":function ref(t){e.inputRef=t}},g,{"className":_,"placeholder":l,"disabled":f,"maxlength":h,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":v,"onKeyDown":this.onKeyDown,"type":getTrueType(u,d,p),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}();s.defaultProps={"type":"text"},t.a=s},"470":function(e,t,n){var o=n(471);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(366)(o,r);o.locals&&(e.exports=o.locals)},"471":function(e,t,n){(e.exports=n(365)(!1)).push([e.i,"/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n/*==============================\n=            colors            =\n==============================*/\n\n/*===============================\n=            z-index            =\n===============================*/\n\n.taro-text {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.taro-text__selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}",""])},"474":function(e,t,n){"use strict";n(363);var o=n(3),r=n(364),i=n(50),a=n.n(i),c=(n(470),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),l=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var s=function(e){function Text(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Text),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Text,o["l"].Component),l(Text,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.selectable,i=void 0!==n&&n,l=a()("taro-text",{"taro-text__selectable":i},t);return o.l.createElement("span",c({},Object(r.a)(this.props,["selectable","className"]),{"className":l}),this.props.children)}}]),Text}();t.a=s},"888":function(e,t,n){},"890":function(e,t,n){},"892":function(e,t,n){}}]);