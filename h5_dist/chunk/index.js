(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"353":function(e,t,n){"use strict";var r=n(16),o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var i={"WILL_MOUNT":0,"DID_MOUNT":1,"DID_SHOW":2};function withLogin(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.WILL_MOUNT;return void 0!==i[t]?(console.warn("lifeCycle is not in defined types: "+t),function(e){return e}):function withLoginComponent(e){return function(n){function WithLogin(e){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithLogin),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithLogin.__proto__||Object.getPrototypeOf(WithLogin)).call(this,e))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithLogin,e),o(WithLogin,[{"key":"componentWillMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var e;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.WILL_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentWillMount",this).call(this);case 13:case"end":return n.stop()}},_callee,this)}));return function componentWillMount(){return e.apply(this,arguments)}}()},{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.DID_MOUNT){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidMount",this).call(this);case 13:case"end":return n.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"componentDidShow","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(t!==i.DID_SHOW){n.next=9;break}return n.next=3,this.$__autoLogin();case 3:if(n.sent){n.next=6;break}return n.abrupt("return");case 6:a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this),n.next=13;break;case 9:return n.next=11,this.$__autoLoginDone();case 11:e=n.sent,a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this)&&e&&a(WithLogin.prototype.__proto__||Object.getPrototypeOf(WithLogin.prototype),"componentDidShow",this).call(this);case 13:case"end":return n.stop()}},_callee3,this)}));return function componentDidShow(){return e.apply(this,arguments)}}()},{"key":"$__autoLogin","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e;return regeneratorRuntime.wrap(function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:return this.$__autoLogin_state="pending",e=void 0,t.prev=2,t.next=5,r.a.autoLogin(this);case 5:e=t.sent,this.$__autoLogin_state=e?"success":"fail",t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.$__autoLogin_state="fail";case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}},_callee4,this,[[2,9]])}));return function $__autoLogin(){return e.apply(this,arguments)}}()},{"key":"$__autoLoginDone","value":function $__autoLoginDone(){var e=void 0,t=8,n=this;return new Promise(function(r){!function next(){e&&clearTimeout(e),e=setTimeout(function(){var o=n.$__autoLogin_state;"success"===o||"fail"===o?(clearTimeout(e),e=null,r("success"===o)):t>0?(t--,next()):r(!1)},70)}()})}}]),WithLogin}()}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function withPager(e){var t,n;return t=function(t){function WithPagerComponent(e){!function withPager_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithPagerComponent);var t=function withPager_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithPagerComponent.__proto__||Object.getPrototypeOf(WithPagerComponent)).call(this,e));n.call(t);var r=e||{},o=r.pageSize,a=void 0===o?10:o,i=r.pageNo,l=void 0===i?0:i,c=r.pageTotal,s={"hasNext":!0,"isLoading":!1,"total":void 0===c?0:c,"page_no":l,"page_size":a};return t.state.page=s,t}return function withPager_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithPagerComponent,e),c(WithPagerComponent,[{"key":"resetPage","value":function resetPage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=l({},this.state.page||{},{"page_no":0,"total":0,"isLoading":!1,"hasNext":!0});this.setState({"page":t},e)}}]),WithPagerComponent}(),n=function _initialiseProps(){var e=this;this.nextPage=function withPager_asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if((t=e.state.page).hasNext&&!t.isLoading){c.next=3;break}return c.abrupt("return");case 3:return t.isLoading=!0,e.setState({"page":t}),n=t.page_no,r=t.page_size,o=n+1,c.next=9,e.fetch({"page_no":o,"page_size":r});case 9:a=c.sent,(!(i=a.total)||o>=Math.ceil(+i/r))&&(t.hasNext=!1),e.setState({"page":l({},t,{"total":i,"page_no":o,"isLoading":!1})});case 13:case"end":return c.stop()}},_callee,e)}))},t}var s=n(13),u=n(50),p=n.n(u),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function withBackToTop(e){return function(t){function WithBackToTopComponent(e){!function withBackToTop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WithBackToTopComponent);var t=function withBackToTop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WithBackToTopComponent.__proto__||Object.getPrototypeOf(WithBackToTopComponent)).call(this,e));return t.scrollBackToTop=function(){t.setState({"scrollTop":1},function(){})},t.handleScroll=p()(function(e){var n=e.detail,r=n.scrollTop;n.scrollHeight<600||(r>300&&!t.state.showBackToTop?(s.n.debug("[BackToTop] showBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!0})):t.state.showBackToTop&&r<=300&&(s.n.debug("[BackToTop] hideBackToTop, scrollTop: "+r),t.setState({"showBackToTop":!1})))},70),t.state=f({},t.state,{"scrollTop":null,"showBackToTop":!1}),t}return function withBackToTop_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WithBackToTopComponent,e),WithBackToTopComponent}()}n.d(t,"b",function(){return withLogin}),n.d(t,"c",function(){return withPager}),n.d(t,"a",function(){return withBackToTop})},"364":function(e,t,n){},"369":function(e,t,n){"use strict";var r,o,a=n(3),i=n(4),l=n(754),c=n(747),s=n(359),u=(n(419),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var p=(o=r=function(e){function HeaderHome(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeaderHome);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(HeaderHome.__proto__||Object.getPrototypeOf(HeaderHome)).call(this,e));return t.handlePickStore=function(){i.a.navigateTo({"url":"/pages/store/list"})},t.handleScanCode=function(){Object(l.a)().then(function(e){var t=decodeURIComponent(e.path).replace("pages/","");t=t.replace("scene=",""),i.a.navigateTo({"url":t})})},t.state={"searchValue":"","historyList":[],"isShowAction":!1},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(HeaderHome,i["a"].Component),u(HeaderHome,[{"key":"componentDidMount","value":function componentDidMount(){Object(s.b)(this.refs.container)}},{"key":"render","value":function render(){var e=this.props.store;return a.l.createElement(c.a,null,e.name&&a.l.createElement(c.a,{"className":"nearly-shop"},a.l.createElement(c.a,{"className":"view-flex-item view-flex view-flex-middle","onClick":this.handlePickStore.bind(this)},a.l.createElement(c.a,{"className":"icon-periscope"}),a.l.createElement(c.a,{"className":"shop-name"},e.name||"选择店铺"),a.l.createElement(c.a,{"className":"icon-arrowDown"})),a.l.createElement(c.a,{"className":"scancode","onClick":this.handleScanCode.bind(this)},a.l.createElement(c.a,{"className":"icon-scan"}),a.l.createElement(c.a,null,"扫码"))))}}]),HeaderHome}(),r.defaultProps={"storeName":null},r.options={"addGlobalClass":!0},o),f=n(462),d=n(815),m=n(376),h=n(351),g=n(13);function linkPage(e,t){console.log(e,t);var n="";switch(e){case"goods":n="/pages/item/espier-detail?id="+t;break;case"category":n="/pages/item/list?cat_id="+t;break;case"planting":n="/pages/recommend/detail?id="+t;break;case"custom_page":n="/pages/custom/custom-page?id="+t;break;case"marketing":n="/pages/item/group-list";break;case"seckill":n="/pages/item/seckill-goods-list?seckill_id="+t;break;case"link":n=t;break;case"tag":n="/pages/item/list?tag_id="+t;break;case"custom":n=t}i.a.navigateTo({"url":n})}n(421);var b,_,y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var v,w,k=(_=b=function(e){function WgtSlider(e){!function slider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtSlider);var t=function slider_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtSlider.__proto__||Object.getPrototypeOf(WgtSlider)).call(this,e));return t.handleClickItem=linkPage,t.handleSwiperChange=function(e){var n=e.detail.current;t.setState({"curIdx":n})},t.state={"curIdx":0},t}return function slider_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtSlider,i["a"].Component),y(WgtSlider,[{"key":"render","value":function render(){var e=this,t=this.props.info,n=this.state.curIdx;if(!t)return null;var r=t.config,o=t.base,l=t.data,s=(l[n]||{}).content;return a.l.createElement(c.a,{"className":"wgt "+(o.padded?"wgt__padded":null)},o.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},o.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},o.subtitle)),r?a.l.createElement(c.a,{"className":"slider-wrap "+(r.padded?"padded":"")},a.l.createElement(f.a,{"mode":"widthFix","className":"scale-placeholder","src":l[0].imgUrl}),a.l.createElement(d.a,{"className":"slider-img","circular":!0,"autoplay":!0,"current":n,"interval":r.interval,"duration":300,"onChange":this.handleSwiperChange},l.map(function(t,n){return a.l.createElement(d.b,{"key":n,"className":"slider-item "+(r.rounded?"rounded":null)},a.l.createElement(c.a,{"style":"padding: 0 "+(r.padded?i.a.pxTransform(20):0),"onClick":e.handleClickItem.bind(e,t.linkPage,t.id)},a.l.createElement(h.m,{"img-class":"slider-item__img","src":t.imgUrl,"mode":"widthFix","width":"500","lazyLoad":!0})))})),l.length>1&&r.dot&&a.l.createElement(c.a,{"className":Object(g.d)("slider-dot",{"dot-size-switch":r.animation},r.dotLocation,r.dotCover?"cover":"no-cover",r.dotColor,r.shape)},l.map(function(e,t){return a.l.createElement(c.a,{"className":Object(g.d)("dot",{"active":n===t}),"key":t})})),l.length>1&&!r.dot&&a.l.createElement(c.a,{"className":Object(g.d)("slider-count",r.dotLocation,r.shape,r.dotColor)},n+1,"/",l.length)):null,r.content&&l.length>0&&a.l.createElement(m.a,{"className":"slider-caption"},s))}}]),WgtSlider}(),b.options={"addGlobalClass":!0},b.defaultProps={"info":null},_),C=(n(423),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());w=v=function(e){function WgtLimittimeSlider(e){!function limittime_slider_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtLimittimeSlider);var t=function limittime_slider_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtLimittimeSlider.__proto__||Object.getPrototypeOf(WgtLimittimeSlider)).call(this,e));return t.handleClickItem=linkPage,t.handleSwiperChange=function(e){var n=e.detail.current;t.setState({"curIdx":n})},t.state={"curIdx":0},t}return function limittime_slider_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtLimittimeSlider,i["a"].Component),C(WgtLimittimeSlider,[{"key":"render","value":function render(){var e=this,t=this.props.info,n=this.state.curIdx;if(!t)return null;var r=t.config,o=t.base,l=t.data,s=(l[n]||{}).content;return a.l.createElement(c.a,{"className":"wgt wgt-limit "+(o.padded?"wgt__padded":null)},a.l.createElement(c.a,{"className":"wgt-limit__header"},a.l.createElement(c.a,{"className":"wgt-limit__title"},"限时抢购",o.title),a.l.createElement(c.a,{"className":"wgt-limit__subtitle"},"4月限时发售，购买即享四重福利",o.subtitle)),a.l.createElement(c.a,{"className":"slider-wrap "+(r.padded?"padded":"")},a.l.createElement(d.a,{"className":"slider-img","style":"height: "+i.a.pxTransform(2*r.height),"circular":!0,"autoplay":!0,"current":n,"interval":r.interval,"duration":300,"onChange":this.handleSwiperChange},l.map(function(t,n){return a.l.createElement(d.b,{"key":n,"className":"slider-item "+(r.rounded?"rounded":null)},a.l.createElement(c.a,{"style":"padding: 0 "+i.a.pxTransform(r.sliderSpace||0),"onClick":e.handleClickItem.bind(e,t.linkPage,t.id)},a.l.createElement(f.a,{"mode":"widthFix","className":"slider-item__img","src":t.imgUrl})))})),l.length>1&&r.dot&&a.l.createElement(c.a,{"className":Object(g.d)("slider-dot",{"dot-size-switch":r.animation},r.dotLocation,r.dotCover?"cover":"no-cover",r.dotColor,r.shape)},l.map(function(e,t){return a.l.createElement(c.a,{"className":Object(g.d)("dot",{"active":n===t}),"key":t})})),l.length>1&&!r.dot&&a.l.createElement(c.a,{"className":Object(g.d)("slider-count",r.dotLocation,r.shape,r.dotColor)},n+1,"/",l.length)),r.content&&l.length>0&&a.l.createElement(m.a,{"className":"slider-caption"},s))}}]),WgtLimittimeSlider}(),v.options={"addGlobalClass":!0},v.defaultProps={"info":null},n(425);var O,E,P=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function navigation_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j,x,T=(E=O=function(e){function WgtNavigation(){var e,t,n;!function navigation_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtNavigation);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=navigation_possibleConstructorReturn(this,(e=WgtNavigation.__proto__||Object.getPrototypeOf(WgtNavigation)).call.apply(e,[this].concat(o))),n.handleClickItem=linkPage,navigation_possibleConstructorReturn(n,t)}return function navigation_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtNavigation,i["a"].Component),P(WgtNavigation,[{"key":"render","value":function render(){var e=this,t=this.props.info;if(!t)return null;var n=t.base,r=t.data;return a.l.createElement(c.a,{"className":"wgt "+(n.padded?"wgt__padded":null)},a.l.createElement(c.a,{"className":"wgt__body with-padding"},a.l.createElement(c.a,{"className":"navigation"},r.map(function(t,n){return a.l.createElement(c.a,{"className":"nav-item","key":n,"onClick":e.handleClickItem.bind(e,t.linkPage,t.id)},a.l.createElement(c.a,{"class":"nav-img-wrap"},a.l.createElement(h.m,{"img-class":"nav-img","src":t.imgUrl,"mode":"widthFix","width":"80","lazyLoad":!0})),a.l.createElement(m.a,{"className":"nav-name"},t.content))}))))}}]),WgtNavigation}(),O.options={"addGlobalClass":!0},O.defaultProps={"info":null},E),W=n(456),N=n(2),S=n(16),L=(n(427),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var R,I,G=(x=j=function(e){function WgtCoupon(e){!function coupon_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtCoupon);var t=function coupon_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtCoupon.__proto__||Object.getPrototypeOf(WgtCoupon)).call(this,e));return t.handleGetCard=function(e){N.a.get("/user/receiveCard",{"card_id":e}).then(function(e){e.status&&S.a.toast("该券已经领取成功，赶快购物吧！")})},t}return function coupon_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtCoupon,i["a"].Component),L(WgtCoupon,[{"key":"navigateTo","value":function navigateTo(e){i.a.navigateTo({"url":e})}},{"key":"render","value":function render(){var e=this,t=this.props.info;if(!t)return null;var n=t.base,r=t.data;return a.l.createElement(c.a,{"className":"wgt "+(n.padded?"wgt__padded":null)},n.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},a.l.createElement(m.a,null,n.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},n.subtitle)),a.l.createElement(c.a,{"className":"wgt__more","onClick":this.navigateTo.bind(this,"/pages/home/coupon-home")},a.l.createElement(c.a,{"className":"three-dot"}))),a.l.createElement(c.a,{"className":"wgt__body with-padding"},r.map(function(t,n){return a.l.createElement(c.a,{"className":Object(g.d)("coupon-wgt",t.imgUrl&&"with-img"),"key":n,"onClick":e.handleGetCard.bind(e,t.id)}," ",t.imgUrl?a.l.createElement(h.m,{"img-class":"coupon_img","src":t.imgUrl,"mode":"widthFix","width":"320"}):a.l.createElement(c.a,{"className":"coupon-body"},a.l.createElement(c.a,{"className":"coupon__amount"},a.l.createElement(m.a,null,t.amount),a.l.createElement(c.a,{"className":"coupon__amount-cur"},"cash"===t.type?"元":"","discount"===t.type?"折":"")),a.l.createElement(c.a,{"className":"coupon-caption"},a.l.createElement(c.a,{"className":"coupon-content"},a.l.createElement(c.a,{"className":"coupon-content__brand-name"},t.title),a.l.createElement(c.a,{"className":"coupon-content__coupon-desc"},t.desc)))),a.l.createElement(W.a,{"className":"coupon-btn__getted","onClick":e.handleGetCard.bind(e,t.id)},"领取"))})))}}]),WgtCoupon}(),j.options={"addGlobalClass":!0},j.defaultProps={"info":null},x),H=n(748),D=(n(429),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var A,F,M=(I=R=function(e){function WgtGoodsScroll(){return function goods_scroll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtGoodsScroll),function goods_scroll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtGoodsScroll.__proto__||Object.getPrototypeOf(WgtGoodsScroll)).apply(this,arguments))}return function goods_scroll_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtGoodsScroll,i["a"].Component),D(WgtGoodsScroll,[{"key":"navigateTo","value":function navigateTo(e){i.a.navigateTo({"url":e})}},{"key":"render","value":function render(){var e=this,t=this.props.info;if(!t)return null;var n=t.base,r=t.data,o=t.config;return a.l.createElement(c.a,{"className":"wgt "+(n.padded?"wgt__padded":null)},n.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},a.l.createElement(m.a,null,n.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},n.subtitle)),a.l.createElement(c.a,{"className":"wgt__more","onClick":this.navigateTo.bind(this,"/pages/item/list")},a.l.createElement(c.a,{"className":"three-dot"}))),a.l.createElement(c.a,{"className":"wgt-body"},a.l.createElement(H.a,{"className":"scroll-goods","scrollX":!0},r.map(function(t,n){return a.l.createElement(c.a,{"key":n,"className":"scroll-item","onClick":e.navigateTo.bind(e,"/pages/item/espier-detail?id="+t.goodsId)},o.leaderboard&&a.l.createElement(c.a,{"className":"subscript"},a.l.createElement(c.a,{"className":"subscript-text"},"NO.",n+1),a.l.createElement(f.a,{"className":"subscript-img","src":"/assets/imgs/paihang.png"})),a.l.createElement(c.a,{"className":"thumbnail"},a.l.createElement(h.m,{"img-class":"goods-img","src":t.imgUrl,"mode":"aspectFill","width":"120","lazyLoad":!0})),o.showPrice&&a.l.createElement(c.a,{"className":"goods-price"},a.l.createElement(m.a,{"className":"cur"},"¥"),t.price?t.price/100:"0.00"))}))))}}]),WgtGoodsScroll}(),R.options={"addGlobalClass":!0,"info":null},I),z=(n(431),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function goods_grid_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var U,$,B=(F=A=function(e){function WgtGoodsGrid(){var e,t,n;!function goods_grid_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtGoodsGrid);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=goods_grid_possibleConstructorReturn(this,(e=WgtGoodsGrid.__proto__||Object.getPrototypeOf(WgtGoodsGrid)).call.apply(e,[this].concat(o))),n.handleClickItem=function(e){var t="/pages/item/espier-detail?id="+e.item_id;i.a.navigateTo({"url":t})},goods_grid_possibleConstructorReturn(n,t)}return function goods_grid_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtGoodsGrid,i["a"].Component),z(WgtGoodsGrid,[{"key":"navigateTo","value":function navigateTo(e){i.a.navigateTo({"url":e})}},{"key":"render","value":function render(){var e=this,t=this.props.info;if(!t)return null;var n=t.base,r=t.data,o=t.config;return a.l.createElement(c.a,{"className":"wgt wgt-grid "+(n.padded?"wgt__padded":null)},n.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},a.l.createElement(m.a,null,n.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},n.subtitle)),a.l.createElement(c.a,{"className":"wgt__goods__more","onClick":this.navigateTo.bind(this,"/pages/item/list")},a.l.createElement(c.a,{"className":"all-goods"},"全部商品"))),a.l.createElement(c.a,{"className":"wgt__body with-padding"},a.l.createElement(c.a,{"className":"grid-goods out-padding grid-goods__type-grid"},r.map(function(t,n){return a.l.createElement(c.a,{"key":n,"className":Object(g.d)("grid-item",{"grid-item-three":"grids"==o.style}),"onClick":e.navigateTo.bind(e,"/pages/item/espier-detail?id="+t.goodsId)},a.l.createElement(c.a,{"className":"goods-wrap"},a.l.createElement(c.a,{"className":"thumbnail"},a.l.createElement(h.m,{"img-class":"goods-img","src":t.imgUrl,"mode":"aspectFill","width":"200","lazyLoad":!0})),a.l.createElement(c.a,{"className":"caption"},o.brand&&t.brand&&a.l.createElement(h.m,{"img-class":"goods-brand","src":t.brand,"mode":"aspectFill","width":"100"}),a.l.createElement(c.a,{"className":"goods-title "+(o.brand&&t.brand?"":"no-brand")},t.title),t.brief&&a.l.createElement(c.a,{"className":"goods-brief "+(o.brand&&t.brand?"":"no-brand")},t.brief),o.showPrice&&a.l.createElement(c.a,{"className":"goods-price"},a.l.createElement(m.a,{"className":"cur"},"¥"),t.price?t.price/100:"0.00"))))}))))}}]),WgtGoodsGrid}(),A.options={"addGlobalClass":!0},F),q=(n(433),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function showcase_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Z,V,J=($=U=function(e){function WgtShowCase(){var e,t,n;!function showcase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtShowCase);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=showcase_possibleConstructorReturn(this,(e=WgtShowCase.__proto__||Object.getPrototypeOf(WgtShowCase)).call.apply(e,[this].concat(o))),n.navigateTo=g.o,n.handleClickItem=linkPage,showcase_possibleConstructorReturn(n,t)}return function showcase_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtShowCase,i["a"].Component),q(WgtShowCase,[{"key":"render","value":function render(){var e=this.props.info;if(!e)return null;var t=e.base,n=e.data,r=e.config;return a.l.createElement(c.a,{"className":"wgt "+(t.padded?"wgt__padded":null)},t.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},a.l.createElement(m.a,null,t.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},t.subtitle)),a.l.createElement(c.a,{"className":"wgt__more","onClick":this.navigateTo.bind(this,"/pages/item/list")},a.l.createElement(c.a,{"className":"three-dot"}))),a.l.createElement(c.a,{"className":"showcase-scheme-"+r.style},a.l.createElement(c.a,{"className":"scheme-item"},a.l.createElement(c.a,{"className":"layout layout-1","onClick":this.handleClickItem.bind(this,n[0].linkPage,n[0].id)},a.l.createElement(h.m,{"img-class":"show-img","src":n[0].imgUrl,"mode":"scaleToFill","width":"175","lazyLoad":!0}))),a.l.createElement(c.a,{"className":"scheme-item"},a.l.createElement(c.a,{"className":"layout layout-2","onClick":this.handleClickItem.bind(this,n[1].linkPage,n[1].id)},a.l.createElement(h.m,{"img-class":"show-img","src":n[1].imgUrl,"mode":"scaleToFill","width":"175","lazyLoad":!0})),a.l.createElement(c.a,{"className":"layout layout-3","onClick":this.handleClickItem.bind(this,n[2].linkPage,n[2].id)},a.l.createElement(h.m,{"img-class":"show-img","src":n[2].imgUrl,"mode":"scaleToFill","width":"175","lazyLoad":!0})))))}}]),WgtShowCase}(),U.options={"addGlobalClass":!0},U.defaultProps={"info":null},$),X=n(559),Y=(n(435),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var K,Q,ee=(V=Z=function(e){function WgtSearchHome(e){!function search_home_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtSearchHome);var t=function search_home_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtSearchHome.__proto__||Object.getPrototypeOf(WgtSearchHome)).call(this,e));return t.searchTap=function(){i.a.navigateTo({"url":"/pages/item/list"})},t.state={"searchValue":"","historyList":[],"isShowAction":!1},t}return function search_home_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtSearchHome,i["a"].Component),Y(WgtSearchHome,[{"key":"componentDidMount","value":function componentDidMount(){Object(s.b)(this.refs.container)}},{"key":"render","value":function render(){var e=this.props.info;if(!e)return null;var t=e.base,n=e.config;return a.l.createElement(c.a,{"className":"wgt "+(t.padded?"wgt__padded":null)},a.l.createElement(c.a,{"className":"search "+(n.fixTop?"fixed":null)},a.l.createElement(c.a,{"className":"content-padded"},a.l.createElement(c.a,{"className":"search-box view-flex view-flex-middle view-flex-center","onClick":this.searchTap.bind(this)},a.l.createElement(X.a,{"className":"search-icon","type":"search","size":"14","color":"#999999"}),a.l.createElement(c.a,null,"输入商品名称")))))}}]),WgtSearchHome}(),Z.defaultProps={"info":null},Z.options={"addGlobalClass":!0},V),te=n(473),ne=n(816),re=(n(437),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function film_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var oe,ae,ie=(Q=K=function(e){function WgtFilm(){var e,t,n;!function film_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtFilm);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=film_possibleConstructorReturn(this,(e=WgtFilm.__proto__||Object.getPrototypeOf(WgtFilm)).call.apply(e,[this].concat(o))),n.state={"screenWidth":null},n.handleClickItem=linkPage,film_possibleConstructorReturn(n,t)}return function film_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtFilm,i["a"].Component),re(WgtFilm,[{"key":"componentDidMount","value":function componentDidMount(){var e=Object(te.b)();this.setState({"screenWidth":e.screenWidth})}},{"key":"resolveSize","value":function resolveSize(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height,r=e.ratio,o=arguments[1],a=1.7777777777777777,i=void 0,l="contain",c=Math.round(o/a);return t&&n?(a=t/n)<=.625?i=c:(l="cover",i=Math.round(o/a)):i=c,"square"===r?(l="cover",i=o):"rectangle"===r&&(i=c),{"width":"100%","height":i+"px","objectFit":l}}},{"key":"render","value":function render(){var e=this.props.info,t=this.state.screenWidth;if(!e)return null;var n=e.config,r=e.base,o=e.data,i=this.resolveSize(n,t),l=i.width,s=i.height;i.objectFit;return a.l.createElement(c.a,{"className":"wgt "+(r.padded?"wgt__padded":null)},r.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},r.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},r.subtitle)),a.l.createElement(c.a,{"className":"slider-wrap "+(n.padded?"padded":"")},a.l.createElement(ne.a,{"className":"flim-video","src":o[0].url,"style":Object(g.s)({"width":l,"height":s}),"controls":!0})))}}]),WgtFilm}(),K.options={"addGlobalClass":!0},K.defaultProps={"info":null},Q),le=(n(364),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var ce,se,ue=(ae=oe=function(e){function WgtWriting(e){!function writing_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtWriting);var t=function writing_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtWriting.__proto__||Object.getPrototypeOf(WgtWriting)).call(this,e));return t.handleClickItem=linkPage,t.handleSwiperChange=function(e){var n=e.detail.current;t.setState({"curIdx":n})},t.state={"curIdx":0},t}return function writing_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtWriting,i["a"].Component),le(WgtWriting,[{"key":"render","value":function render(){var e=this.props.info,t=this.state.curIdx;if(!e)return null;var n=e.config,r=e.base,o=(e.data[t]||{}).content,i=[];return o&&(i=o.split("\n")),a.l.createElement(c.a,{"className":"wgt "+(r.padded?"wgt__padded":null)},r.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},r.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},r.subtitle)),a.l.createElement(c.a,{"className":"slider-wra wgt-writing "+(n.padded?"padded":""),"style":n.align?"text-align:"+n.align:""},i.map(function(e,t){return a.l.createElement(c.a,{"className":"writing-view","key":t},e)})))}}]),WgtWriting}(),oe.options={"addGlobalClass":!0},oe.defaultProps={"info":null},ae),pe=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var fe,de,me,he=(se=ce=function(e){function WgtHeading(e){!function heading_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtHeading);var t=function heading_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtHeading.__proto__||Object.getPrototypeOf(WgtHeading)).call(this,e));return t.handleClickItem=linkPage,t.handleSwiperChange=function(e){var n=e.detail.current;t.setState({"curIdx":n})},t.state={"curIdx":0},t}return function heading_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtHeading,i["a"].Component),pe(WgtHeading,[{"key":"render","value":function render(){var e=this.props.info,t=this.state.curIdx;if(!e)return null;var n=e.config,r=e.base,o=(e.data[t]||{}).content,l="";return n&&(n.align&&(l="text-align: "+n.align+";"),!0===n.italic&&(l=l.concat("font-style: italic;")),!0===n.bold&&(l=l.concat("font-weight: 700;")),n.size&&(l=l.concat("font-size: "+i.a.pxTransform(2*n.size)+";"))),a.l.createElement(c.a,{"className":"wgt  "+(r.padded?"wgt__padded":null)},r.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},r.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},r.subtitle)),a.l.createElement(c.a,{"className":"slider-wra "+(n.padded?"padded":""),"style":l},a.l.createElement(c.a,{"className":"writing-view"},o)))}}]),WgtHeading}(),ce.options={"addGlobalClass":!0},ce.defaultProps={"info":null},se),ge=n(347),be=n(21),_e=n(51),ye=n(15),ve=(n(440),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}var we,ke,Ce=Object(_e.b)(function(e){return{"cart":e.cart,"favs":e.member.favs}},function(e){return{"onFastbuy":function onFastbuy(t){return e({"type":"cart/fastbuy","payload":{"item":t}})},"onAddCart":function onAddCart(t){return e({"type":"cart/add","payload":{"item":t}})},"onAddFav":function onAddFav(t){var n=t.item_id;return e({"type":"member/addFav","payload":{"item_id":n}})},"onDelFav":function onDelFav(t){var n=t.item_id;return e({"type":"member/delFav","payload":{"item_id":n}})},"onUpdateCartCount":function onUpdateCartCount(t){return e({"type":"cart/updateCount","payload":t})}}})((me=de=function(e){function WgtGoods(e){var t=this;!function goods_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtGoods);var n,r=function goods_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtGoods.__proto__||Object.getPrototypeOf(WgtGoods)).call(this,e));return r.handleClickItem=function(e){try{i.a.navigateTo({"url":"/pages/item/espier-detail?id="+e})}catch(e){console.log(e)}},r.handleSwiperChange=function(e){var t=e.detail.current;r.setState({"curIdx":t})},r.handleClickOperate=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,n,o){var a,i;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(r.props.info,o.stopPropagation(),"collect"!==n){t.next=15;break}if(e.favStatus){t.next=10;break}return t.next=6,ye.a.member.addFav(e.item_id);case 6:r.props.onAddFav(e),Object(ge.d)({"title":"已加入收藏","icon":"none"}),t.next=14;break;case 10:return t.next=12,ye.a.member.delFav(e.item_id);case 12:r.props.onDelFav(e),Object(ge.d)({"title":"已移出收藏","icon":"none"});case 14:r.props.onClick();case 15:if("buy"!==n){t.next=27;break}return t.prev=16,a=Object(be.b)("curStore"),i=a.distributor_id,t.next=20,ye.a.cart.add({"item_id":e.item_id,"distributor_id":i,"num":1,"shop_type":"distributor"});case 20:Object(ge.d)({"title":"成功加入购物车","icon":"success"}),r.fetchCartcount(),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(16),console.log(t.t0);case 27:case"end":return t.stop()}},_callee,t,[[16,24]])})),function(e,t,r){return n.apply(this,arguments)}),r.state={"curIdx":0,"is_fav":!1,"count":0},r}return function goods_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtGoods,i["a"].Component),ve(WgtGoods,[{"key":"fetchCartcount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t;return regeneratorRuntime.wrap(function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ye.a.cart.count({"shop_type":"distributor"});case 3:e=n.sent,t=e.item_count,this.props.onUpdateCartCount(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:case"end":return n.stop()}},_callee2,this,[[0,8]])}));return function fetchCartcount(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this,t=this.props.info,n=this.state,r=n.curIdx;n.is_fav;if(!t)return null;t.config;var o=t.base,i=t.data;(i[r]||{}).content;return a.l.createElement(c.a,{"className":"wgt "+(o.padded?"wgt__padded":null)},o.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},o.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},o.subtitle)),a.l.createElement(c.a,{"className":"slider-wrap"},i.map(function(t){return a.l.createElement(c.a,{"className":"goods-content","key":t.item_id,"onClick":e.handleClickItem.bind(e,t.item_id)},a.l.createElement(c.a,{"className":"goods-content__info"},a.l.createElement(c.a,{"className":"goods-content__info_img"},a.l.createElement(h.m,{"img-class":"img-style","src":t.img_url,"mode":"aspectFill","width":"120","lazyLoad":!0})),a.l.createElement(c.a,{"className":"goods-content__info_text"},a.l.createElement(m.a,null,t.item_name),a.l.createElement(m.a,null,t.itemStatus?"点击查看产品详情":"该商品已下架"))),a.l.createElement(c.a,{"className":"goods-content__operate"},a.l.createElement(c.a,{"className":"goods-content__operate_btn "+(t.itemStatus?"":"disabled__operate"),"onClick":e.handleClickOperate.bind(e,t,"collect")},t.favStatus?"移除心愿":"加入心愿"),a.l.createElement(m.a,null,"|"),a.l.createElement(c.a,{"className":"goods-content__operate_btn "+(t.itemStatus?"":"disabled__operate"),"onClick":e.handleClickOperate.bind(e,t,"buy")},"加入购买")))})))}}]),WgtGoods}(),de.options={"addGlobalClass":!0},de.defaultProps={"info":null},fe=me))||fe,Oe=(n(442),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());function goods_faverite_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ee,Pe,je=(ke=we=function(e){function WgtGoodsFaverite(){var e,t,n;!function goods_faverite_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtGoodsFaverite);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=goods_faverite_possibleConstructorReturn(this,(e=WgtGoodsFaverite.__proto__||Object.getPrototypeOf(WgtGoodsFaverite)).call.apply(e,[this].concat(o))),n.handleClickItem=function(e){var t="/pages/item/espier-detail?id="+e.item_id;i.a.navigateTo({"url":t})},goods_faverite_possibleConstructorReturn(n,t)}return function goods_faverite_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtGoodsFaverite,i["a"].Component),Oe(WgtGoodsFaverite,[{"key":"navigateTo","value":function navigateTo(e){i.a.navigateTo({"url":e})}},{"key":"render","value":function render(){var e=this,t=this.props.info;return t?a.l.createElement(c.a,{"className":"wgt_faverite"},a.l.createElement(c.a,{"className":"wgt wgt-grid"},a.l.createElement(c.a,{"className":"wgt-grid__header"},a.l.createElement(m.a,{"className":"wgt-grid__title"},"猜你喜欢")),a.l.createElement(c.a,{"className":"wgt-body with-padding"},a.l.createElement(c.a,{"className":"grid-goods out-padding grid-goods__type-grid"},t.map(function(t){return a.l.createElement(h.i,{"key":t.item_id,"info":t,"onClick":function onClick(){return e.handleClickItem(t)}})}))))):null}}]),WgtGoodsFaverite}(),we.options={"addGlobalClass":!0},ke),xe=(n(444),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var Te,We,Ne=(Pe=Ee=function(e){function WgtImgHotZone(e){!function imghot_zone_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtImgHotZone);var t=function imghot_zone_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtImgHotZone.__proto__||Object.getPrototypeOf(WgtImgHotZone)).call(this,e));return t.handleClickItem=linkPage,t.state={"curIdx":0},t}return function imghot_zone_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtImgHotZone,i["a"].Component),xe(WgtImgHotZone,[{"key":"render","value":function render(){var e=this,t=this.props.info,n=this.state.curIdx;if(!t)return null;var r=t.config,o=t.base,i=t.data;(i[n]||{}).content;return a.l.createElement(c.a,{"className":"wgt  "+(o.padded?"wgt__padded":null)},o.title&&a.l.createElement(c.a,{"className":"wgt__header"},a.l.createElement(c.a,{"className":"wgt__title"},o.title),a.l.createElement(c.a,{"className":"wgt__subtitle"},o.subtitle)),a.l.createElement(c.a,{"className":"slider-wra img-hotzone "+(r.padded?"padded":"")},a.l.createElement(h.m,{"img-class":"img-hotzone_img","src":r.imgUrl,"mode":"widthFix","width":"500","lazyLoad":!0}),i.map(function(t,n){return a.l.createElement(c.a,{"key":n,"className":"img-hotzone_zone","style":"width: "+100*t.widthPer+"%; height: "+100*t.heightPer+"%; top: "+100*t.topPer+"%; left: "+100*t.leftPer+"%","onClick":e.handleClickItem.bind(e,t.linkPage,t.id)})})))}}]),WgtImgHotZone}(),Ee.options={"addGlobalClass":!0},Ee.defaultProps={"info":null},Pe),Se=n(830),Le=(n(446),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var Re=(We=Te=function(e){function WgtMarquees(e){!function marquees_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WgtMarquees);var t=function marquees_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(WgtMarquees.__proto__||Object.getPrototypeOf(WgtMarquees)).call(this,e));return t.handleClickItem=function(e){try{i.a.navigateTo({"url":"/pages/recommend/detail?id="+e})}catch(e){console.log(e)}},t.state={"announce":null},t}return function marquees_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WgtMarquees,i["a"].Component),Le(WgtMarquees,[{"key":"componentDidMount","value":function componentDidMount(){var e=this.props.info,t=e.config,n=e.data;if("horizontal"===t.direction){var r=n.map(function(e){return e.title}).join("　　");this.setState({"announce":r})}}},{"key":"render","value":function render(){var e=this,t=this.props.info;if(!t)return null;var n=t.config,r=t.base,o=t.data;return a.l.createElement(c.a,{"className":"wgt "+(r.padded?"wgt__padded":null)},"vertical"===n.direction?a.l.createElement(d.a,{"className":"marquees","autoplay":!0,"circular":!0,"interval":3e3,"duration":300,"vertical":n.direction,"style":"background-color:"+n.bgcolor},o.map(function(t,r){return a.l.createElement(d.b,{"key":r,"className":"marquees-item"},a.l.createElement(c.a,{"onClick":e.handleClickItem.bind(e,t.id),"style":"color:"+n.fontcolor,"className":"item-text"},t.title))})):a.l.createElement(Se.a,{"marquee":!0},a.l.createElement(m.a,null,announce)))}}]),WgtMarquees}(),Te.options={"addGlobalClass":!0},Te.defaultProps={"info":null},We);n.d(t,"a",function(){return p}),n.d(t,"n",function(){return k}),n.d(t,"k",function(){return T}),n.d(t,"b",function(){return G}),n.d(t,"g",function(){return M}),n.d(t,"f",function(){return B}),n.d(t,"m",function(){return J}),n.d(t,"l",function(){return ee}),n.d(t,"c",function(){return ie}),n.d(t,"o",function(){return ue}),n.d(t,"h",function(){return he}),n.d(t,"d",function(){return Ce}),n.d(t,"e",function(){return je}),n.d(t,"i",function(){return Ne}),n.d(t,"j",function(){return Re})},"419":function(e,t,n){},"421":function(e,t,n){},"423":function(e,t,n){},"425":function(e,t,n){},"427":function(e,t,n){},"429":function(e,t,n){},"431":function(e,t,n){},"433":function(e,t,n){},"435":function(e,t,n){},"437":function(e,t,n){},"440":function(e,t,n){},"442":function(e,t,n){},"444":function(e,t,n){},"446":function(e,t,n){},"455":function(e,t,n){"use strict";var r,o,a,i,l,c=n(21),s=n(472),u=n(15),p=(r=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e,t){var n,r,o,a,i,l;return regeneratorRuntime.wrap(function _callee$(s){for(;;)switch(s.prev=s.next){case 0:if(n=null,e.scene?(r=decodeURIComponent(e.scene),n=parseUrlStr(r)):n=e,n.dtid||(o=Object(c.b)("curStore"),(a=o.distributor_id)&&(n.dtid=a)),i=!1,l={},!n.dtid){s.next=10;break}return s.next=8,m(n.dtid);case 8:l=s.sent,i=!l.status;case 10:if(i){s.next=14;break}return s.next=13,d(t);case 13:l=s.sent;case 14:return l.status||(n.store=l,n.dtid=l.distributor_id),n.uid?(Object(c.f)("distribution_shop_id",n.uid),Object(c.f)("trackParams",{})):n.s&&n.m&&(Object(c.f)("distribution_shop_id",""),Object(c.f)("trackParams",{"source_id":n.s,"monitor_id":n.m}),trackViewNum(n.m,n.s)),s.abrupt("return",n);case 17:case"end":return s.stop()}},_callee,this)})),function entryLaunch(e,t){return r.apply(this,arguments)}),f=(o=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n;return regeneratorRuntime.wrap(function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return e={"template_name":"yykweishop","version":"v1.0.1","name":"setting"},r.next=3,u.a.category.getCategory(e);case 3:if(t=r.sent,n=t[0].params,!(t.length>0)){r.next=17;break}if(n&&n.config){r.next=10;break}return r.abrupt("return",!0);case 10:if(!n.config.location){r.next=14;break}return r.abrupt("return",!0);case 14:return r.abrupt("return",!1);case 15:r.next=18;break;case 17:return r.abrupt("return",!0);case 18:return r.abrupt("return",positionStatus);case 19:case"end":return r.stop()}},_callee2,this)})),function getLocalSetting(){return o.apply(this,arguments)}),d=(a=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(e){var t,n,r,o;return regeneratorRuntime.wrap(function _callee3$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f();case 2:if(t=a.sent,n=null,t){a.next=10;break}return a.next=7,u.a.shop.getShop();case 7:n=a.sent,a.next=22;break;case 10:if(!(r=Object(c.b)("lnglat"))){a.next=19;break}return o={},e&&t&&(o.lat=r.latitude,o.lng=r.longitude),a.next=16,u.a.shop.getShop(o);case 16:n=a.sent,a.next=22;break;case 19:return a.next=21,u.a.shop.getShop();case 21:n=a.sent;case 22:return n.status?Object(c.f)("curStore",!1):Object(c.f)("curStore",n),a.abrupt("return",n);case 24:case"end":return a.stop()}},_callee3,this)})),function getLocal(e){return a.apply(this,arguments)}),m=(i=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)({"type":"gcj02"}).then(function(e){return Object(c.e)({"key":"lnglat","data":e}),e},function(e){return""});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_callee4,this)})),l=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t;return regeneratorRuntime.wrap(function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.shop.getShop({"distributor_id":e});case 2:return!1===(t=n.sent).status?Object(c.f)("curStore",t):Object(c.f)("curStore",""),n.abrupt("return",t);case 5:case"end":return n.stop()}},_callee5,this)})),function handleDistributorId(e){return l.apply(this,arguments)});function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}function trackViewNum(e,t){if(!Object(c.b)("_session"))return!0;if(e&&t){var n={"source_id":t,"monitor_id":e};u.a.track.viewnum(n)}return!0}function parseUrlStr(e){var t=[];if(e)for(var n=0;n<e.split("&").length;n++)t[n]=e.split("&")[n];for(var r=[],o=0;o<t.length;o++){var a=t[o].split("=");r[a[0]]=decodeURI(a[1])}return r}t.a={"entryLaunch":p,"getLocal":d,"getLocalSetting":f}},"472":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(1),o=Object(r.i)("getLocation"),a=Object(r.i)("openLocation",{"scale":18})},"474":function(e,t,n){"use strict";var r,o,a=n(3),i=n(473),l=n(4),c=n(747),s=n(369),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o=r=function(e){function HomeWgts(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HomeWgts);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=HomeWgts.__proto__||Object.getPrototypeOf(HomeWgts)).call.apply(e,[this].concat(o))),n.state={"screenWidth":375},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(HomeWgts,l["a"].PureComponent),u(HomeWgts,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;Object(i.a)().then(function(t){e.setState({"screenWidth":t.screenWidth})})}},{"key":"render","value":function render(){var e=this.props.wgts,t=this.state.screenWidth;return a.l.createElement(c.a,null,e.map(function(e,n){return a.l.createElement(c.a,{"className":"wgt-wrap","key":n},"search"===e.name&&a.l.createElement(s.l,{"info":e}),"film"===e.name&&a.l.createElement(s.c,{"info":e}),"marquees"===e.name&&a.l.createElement(s.j,{"info":e}),"slider"===e.name&&a.l.createElement(s.n,{"isHomeSearch":!0,"info":e,"width":t}),"navigation"===e.name&&a.l.createElement(s.k,{"info":e}),"coupon"===e.name&&a.l.createElement(s.b,{"info":e}),"imgHotzone"===e.name&&a.l.createElement(s.i,{"info":e}),"goodsScroll"===e.name&&a.l.createElement(s.g,{"info":e}),"goodsGrid"===e.name&&a.l.createElement(s.f,{"info":e}),"showcase"===e.name&&a.l.createElement(s.m,{"info":e}))}))}}]),HomeWgts}(),r.options={"addGlobalClass":!0},r.defaultProps={"wgts":[]}},"572":function(e,t,n){},"574":function(e,t,n){},"819":function(e,t,n){"use strict";n.r(t);var r,o,a=n(3),i=n(21),l=n(4),c=n(747),s=n(748),u=n(462),p=n(51),f=n(351),d=n(2),m=n(15),h=n(13),g=n(455),b=n(353),_=n(16),y=n(369),v=n(474),w=(n(572),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var k,C=(o=r=function(e){function Automatic(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Automatic),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Automatic.__proto__||Object.getPrototypeOf(Automatic)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Automatic,l["a"].Component),w(Automatic,[{"key":"render","value":function render(){var e=this.props,t=e.info,n=e.onClick,r=e.onClose,o=e.isShow;return t?a.l.createElement(c.a,null,o&&a.l.createElement(c.a,{"className":"gift-wrap"},a.l.createElement(c.a,{"className":"gift"},a.l.createElement(Image,{"className":"gift-bg","src":t.adPic,"mode":"widthFix"}),a.l.createElement(Button,{"className":"btn-primary gift-btn","onClick":n},t.title),a.l.createElement(c.a,{"className":"zoom-btn icon-close","onClick":r})))):null}}]),Automatic}(),r.defaultProps={"info":null,"onClick":function onClick(){},"onClose":function onClose(){}},r.options={"addGlobalClass":!0},o),O=(n(574),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),E=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),P=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}t.default=Object(p.b)(function(e){var t=e.cart;return{"list":t.list,"cartIds":t.cartIds,"cartCount":t.cartCount}},function(e){return{"onUpdateLikeList":function onUpdateLikeList(t){return e({"type":"cart/updateLikeList","payload":t})},"onUpdateCartCount":function onUpdateCartCount(t){return e({"type":"cart/updateCount","payload":t})}}})(k=Object(p.b)(function(e){return{"store":e}})(k=Object(b.c)(k=Object(b.a)(k=function(e){function HomeIndex(e){var t=this;!function pages_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HomeIndex);var n=function pages_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(HomeIndex.__proto__||Object.getPrototypeOf(HomeIndex)).call(this,e));return n.componentDidShow=function(){var e=Object(i.b)("curStore");Object(h.j)(e)||n.setState({"curStore":e}),Object(i.a)({"key":"addTipIsShow"}).then(function(){}).catch(function(e){console.log(e),n.setState({"isShowAddTip":!0})})},n.handleClickLicense=function(){l.a.navigateTo({"url":"/pages/home/license"})},n.handleGift=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(_.a.getAuthToken()){e.next=3;break}return setTimeout(function(){_.a.login(n)},1e3),e.abrupt("return");case 3:case"end":return e.stop()}},_callee,t)})),n.handleAutoClick=function(){var e=n.state.showAuto;n.setState({"showAuto":!e})},n.handleClickCloseAddTip=function(){Object(i.e)({"key":"addTipIsShow","data":{"isShowAddTip":!1}}),n.setState({"isShowAddTip":!1})},n.handleClickShop=function(){l.a.navigateTo({"url":"/pages/distribution/shop-home"})},n.state=O({},n.state,{"wgts":null,"authStatus":!1,"likeList":[],"isShowAddTip":!1,"curStore":null,"positionStatus":!1,"automatic":null,"showAuto":!0}),n}return function pages_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(HomeIndex,l["a"].Component),E(HomeIndex,[{"key":"componentDidMount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,r,o,a=this;return regeneratorRuntime.wrap(function _callee2$(l){for(;;)switch(l.prev=l.next){case 0:return Object(i.b)("userinfo"),e="/pageparams/setting?template_name=yykweishop&version=v1.0.1&page_name=index&name=search",l.next=4,d.a.get(e);case 4:return t=l.sent,n=this.$router.params,l.next=8,g.a.entryLaunch(n,!0);case 8:r=l.sent,o=r.store,Object(h.j)(o)?this.setState({"positionStatus":t.length&&t[0].params.config.fixTop||!1},function(){a.fetchInfo()}):this.setState({"curStore":o,"positionStatus":t.length&&t[0].params.config.fixTop||!1},function(){a.fetchInfo()}),this.fetchCartcount();case 12:case"end":return l.stop()}},_callee2,this)}));return function componentDidMount(){return e.apply(this,arguments)}}()},{"key":"onShareAppMessage","value":function onShareAppMessage(e){return"button"===e.from&&console.log(e.target),{"title":"首页","path":"/pages/index"}}},{"key":"fetchCartcount","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var e,t;return regeneratorRuntime.wrap(function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:if(_.a.getAuthToken()){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,m.a.cart.count({"shop_type":"distributor"});case 5:e=n.sent,t=e.item_count,this.props.onUpdateCartCount(t),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.error(n.t0);case 13:case"end":return n.stop()}},_callee3,this,[[2,10]])}));return function fetchCartcount(){return e.apply(this,arguments)}}()},{"key":"fetchInfo","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var e,t,n,r,o,a,i,l=this;return regeneratorRuntime.wrap(function _callee4$(c){for(;;)switch(c.prev=c.next){case 0:return e="/pageparams/setting?template_name=yykweishop&version=v1.0.1&page_name=index",c.next=3,d.a.get(e);case 3:return t=c.sent,n=t.config.find(function(e){return"setting"==e.name&&e.config.faverite}),this.props.onUpdateLikeList(!!n),c.next=8,m.a.promotion.automatic({"register_type":"general"});case 8:r=c.sent,o=r.is_open,a=r.ad_pic,i=r.ad_title,this.setState({"automatic":{"title":i,"isOpen":"true"===o,"adPic":a}}),_.a.getAuthToken()||this.setState({"authStatus":!0}),this.setState({"wgts":t.config},function(){t.config&&t.config.map(function(e){"setting"===e.name&&e.config.faverite&&l.nextPage()})});case 15:case"end":return c.stop()}},_callee4,this)}));return function fetchInfo(){return e.apply(this,arguments)}}()},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(e){var t,n,r,o,a,i,l;return regeneratorRuntime.wrap(function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:return t=e.page_no,n=e.page_size,r={"page":t,"pageSize":n},c.next=4,m.a.cart.likeList(r);case 4:return o=c.sent,a=o.list,i=o.total_count,l=Object(h.q)(a,{"img":"pics[0]","item_id":"item_id","title":"itemName","price":function price(e){return(e.price/100).toFixed(2)},"desc":"brief"}),this.setState({"likeList":[].concat(_toConsumableArray(this.state.likeList),_toConsumableArray(l))}),c.abrupt("return",{"total":i});case 10:case"end":return c.stop()}},_callee5,this)}));return function fetch(t){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.wgts,n=(e.authStatus,e.page),r=e.likeList,o=e.showBackToTop,l=e.scrollTop,p=e.isShowAddTip,d=e.curStore,m=e.positionStatus,g=e.automatic,b=e.showAuto,w=Object(i.b)("userinfo"),k=w&&w.isPromoter,O=Object(i.b)("distribution_shop_id");if(!t||!this.props.store)return a.l.createElement(f.j,null);t.find(function(e){return"setting"==e.name&&e.config.location});return a.l.createElement(c.a,{"className":"page-index"},d&&a.l.createElement(y.a,{"store":d}),a.l.createElement(s.a,{"className":Object(h.d)("wgts-wrap",m&&"wgts-wrap__fixed",!d&&"wgts-wrap-nolocation"),"scrollTop":l,"onScroll":this.handleScroll,"onScrollToLower":this.nextPage,"scrollY":!0},a.l.createElement(c.a,{"className":"wgts-wrap__cont"},a.l.createElement(v.HomeWgts,{"wgts":t}),r.length>0&&a.l.createElement(c.a,null,a.l.createElement(y.e,{"info":r}),n.isLoading?a.l.createElement(f.j,null,"正在加载..."):null,!n.isLoading&&!n.hasNext&&!r.length&&a.l.createElement(f.s,{"img":"trades_empty.png"},"暂无数据~")))),a.l.createElement(f.f,null,(k||!!O)&&a.l.createElement(u.a,{"className":"distribution-shop","src":"/assets/imgs/gift_mini.png","mode":"widthFix","onClick":this.handleClickShop}),g.isOpen&&!_.a.getAuthToken()&&a.l.createElement(f.e,{"iconPrefixClass":"in-icon","icon":"gift","onClick":this.handleAutoClick.bind(this)})),g.isOpen&&!_.a.getAuthToken()&&a.l.createElement(C,{"info":g,"isShow":b,"onClick":this.handleGift.bind(this),"onClose":this.handleAutoClick.bind(this)}),a.l.createElement(f.b,{"show":o,"onClick":this.scrollBackToTop}),p?a.l.createElement(c.a,{"className":"add_tip"},a.l.createElement(c.a,{"class":"tip-text"},"点击“•●•”添加到我的小程序，微信首页下拉即可快速访问店铺"),a.l.createElement(c.a,{"className":"icon-close icon-view","onClick":this.handleClickCloseAddTip.bind(this)}," ")):null,a.l.createElement(f.t,null),a.l.createElement(f.u,null))}},{"key":"componentDidShow","value":function componentDidShow(){P(HomeIndex.prototype.__proto__||Object.getPrototypeOf(HomeIndex.prototype),"componentDidShow",this)&&P(HomeIndex.prototype.__proto__||Object.getPrototypeOf(HomeIndex.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){P(HomeIndex.prototype.__proto__||Object.getPrototypeOf(HomeIndex.prototype),"componentDidHide",this)&&P(HomeIndex.prototype.__proto__||Object.getPrototypeOf(HomeIndex.prototype),"componentDidHide",this).call(this)}}]),HomeIndex}())||k)||k)||k)||k}}]);