(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{"736":function(e,t,n){},"807":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m});var a=n(3),r=n(347),l=n(4),o=n(747),s=n(376),i=n(456),c=n(38),u=n(13),d=n(351),f=n(15),_=(n(736),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),p=function get(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(n):void 0};function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(a,r){try{var l=t[a](r),o=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(o).then(function(e){step("next",e)},function(e){step("throw",e)});e(o)}("next")})}}var m=function(e){function TradeRefundDetail(e){var t=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TradeRefundDetail);var n,a=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(TradeRefundDetail.__proto__||Object.getPrototypeOf(TradeRefundDetail)).call(this,e));return a.handleBtnClick=(n=_asyncToGenerator(regeneratorRuntime.mark(function _callee(e){var n,o,s,i;return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.state.info,o=n.aftersales_bn,s=n.order_id,i=n.item_id,"cancel"!==e){t.next=13;break}return Object(r.b)({"mask":!0}),t.prev=3,t.next=6,f.a.aftersales.close({"aftersales_bn":o});case 6:a.fetch(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:Object(r.a)();case 13:"edit"===e&&l.a.navigateTo({"url":"/pages/trade/refund?aftersales_bn="+o+"&order_id="+s+"&item_id="+i}),"refund"===e&&l.a.navigateTo({"url":"/pages/trade/refund?order_id="+s+"&item_id="+i}),"refund_send"===e&&l.a.navigateTo({"url":"/pages/trade/refund-sendback?aftersales_bn="+o});case 16:case"end":return t.stop()}},_callee,t,[[3,9]])})),function(e){return n.apply(this,arguments)}),a.state={"info":null,"progress":0},a}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TradeRefundDetail,l["a"].Component),_(TradeRefundDetail,[{"key":"componentDidMount","value":function componentDidMount(){this.fetch()}},{"key":"fetch","value":function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var e,t,n,a,r,l,o,s;return regeneratorRuntime.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return e=this.$router.params,t=e.aftersales_bn,n=e.item_id,a=e.order_id,i.next=3,f.a.aftersales.info({"aftersales_bn":t,"item_id":n,"order_id":a});case 3:r=i.sent,l=r.aftersales,o=r.orderInfo,s=+l.progress,l.status_str=c.b[String(s)],l.creat_time_str=Object(u.g)(1e3*l.create_time),this.setState({"orderInfo":o,"info":l,"progress":s});case 10:case"end":return i.stop()}},_callee2,this)}));return function fetch(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){var e=this.state,t=e.info,n=(e.orderInfo,e.progress);return t?a.l.createElement(o.a,{"className":"trade-refund-detail"},a.l.createElement(o.a,{"className":"refund-status"},a.l.createElement(s.a,{"className":"refund-status__text text-status"},t.status_str),0==n?a.l.createElement(s.a,{"className":"refund-status__text"},"正在审核订单"):null,1==n?a.l.createElement(s.a,{"className":"refund-status__text"},"已接受申请，等回寄"):null,2==n?a.l.createElement(s.a,{"className":"refund-status__text"},"客户已回寄，等待商家收货确认"):null,3==n?a.l.createElement(s.a,{"className":"refund-status__text"},"申请已驳回"):null,4==n?a.l.createElement(s.a,{"className":"refund-status__text"},"物流信息：已发货"):null,5==n?a.l.createElement(s.a,{"className":"refund-status__text"},"时间"):null,6==n?a.l.createElement(s.a,{"className":"refund-status__text"},"时间"):null,7==n?a.l.createElement(s.a,{"className":"refund-status__text"},"时间"):null),a.l.createElement(o.a,{"className":"refund-detail"},0==n?a.l.createElement(s.a,{"className":"refund-detail__title"},"您已成功发起退款申请，请耐心等待商家处理"):null,a.l.createElement(s.a,{"className":"refund-detail__descr"},t.description),0==n?a.l.createElement(o.a,null,a.l.createElement(s.a,{"className":"refund-detail__btn","onClick":this.handleBtnClick.bind(this,"edit")},"修改申请"),a.l.createElement(s.a,{"className":"refund-detail__btn refund-detail__cancel","onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请")):null,3==n||5==n?a.l.createElement(o.a,null,a.l.createElement(s.a,{"className":"refund-detail__btn","onClick":this.handleBtnClick.bind(this,"refund")},"再次申请"),a.l.createElement(s.a,{"className":"refund-detail__btn refund-detail__cancel","onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请")):null,1==n?a.l.createElement(o.a,null,a.l.createElement(s.a,{"className":"refund-detail__btn","onClick":this.handleBtnClick.bind(this,"refund_send")},"填写物流信息"),a.l.createElement(s.a,{"className":"refund-detail__btn refund-detail__cancel","onClick":this.handleBtnClick.bind(this,"cancel")},"撤销申请")):null),a.l.createElement(o.a,{"className":"refund-detail-info"},a.l.createElement(o.a,{"className":"info-name"},"退款原因：",a.l.createElement(s.a,{"className":"info-value"},t.reason)),a.l.createElement(o.a,{"className":"info-name"},"申请时间：",a.l.createElement(s.a,{"className":"info-value"},t.creat_time_str)),a.l.createElement(o.a,{"className":"info-name"},"退款编号：",a.l.createElement(s.a,{"className":"info-value"},t.aftersales_bn))),a.l.createElement(i.a,{"openType":"contact","className":"refund-detail-btn"},"联系客服"),a.l.createElement(d.f,null,a.l.createElement(d.e,{"iconPrefixClass":"icon","icon":"headphones","openType":"contact"}))):a.l.createElement(d.j,null)}},{"key":"componentDidShow","value":function componentDidShow(){p(TradeRefundDetail.prototype.__proto__||Object.getPrototypeOf(TradeRefundDetail.prototype),"componentDidShow",this)&&p(TradeRefundDetail.prototype.__proto__||Object.getPrototypeOf(TradeRefundDetail.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){p(TradeRefundDetail.prototype.__proto__||Object.getPrototypeOf(TradeRefundDetail.prototype),"componentDidHide",this)&&p(TradeRefundDetail.prototype.__proto__||Object.getPrototypeOf(TradeRefundDetail.prototype),"componentDidHide",this).call(this)}}]),TradeRefundDetail}()}}]);