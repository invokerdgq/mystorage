var assignValue=require("./_assignValue.js"),castPath=require("./_castPath.js"),isIndex=require("./_isIndex.js"),isObject=require("./isObject.js"),toKey=require("./_toKey.js");function baseSet(e,s,i,r){if(!isObject(e))return e;for(var t=-1,a=(s=castPath(s,e)).length,u=a-1,n=e;null!=n&&++t<a;){var j=toKey(s[t]),o=i;if(t!=u){var c=n[j];void 0===(o=r?r(c,j,n):void 0)&&(o=isObject(c)?c:isIndex(s[t+1])?[]:{})}assignValue(n,j,o),n=n[j]}return e}module.exports=baseSet;