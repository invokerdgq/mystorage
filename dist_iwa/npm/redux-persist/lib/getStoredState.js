"use strict";exports.__esModule=!0,exports.default=getStoredState;var _constants=require("./constants.js");function getStoredState(e){var o=e.transforms||[],t=""+(void 0!==e.keyPrefix?e.keyPrefix:_constants.KEY_PREFIX)+e.key,r=e.storage,s=(e.debug,!1===e.serialize?function(e){return e}:defaultDeserialize);return r.getItem(t).then(function(e){if(e)try{var t={},n=s(e);return Object.keys(n).forEach(function(r){t[r]=o.reduceRight(function(e,t){return t.out(e,r,n)},s(n[r]))}),t}catch(e){throw e}})}function defaultDeserialize(e){return JSON.parse(e)}